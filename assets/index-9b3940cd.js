import{e as ic,b as Ji,i as bt,r as sc,c as z,a as Qi,B as ne,d as fe,g as un,f as wp,h as _p}from"./index-2f2f155f.js";import{p as Sp,_ as D,h as Ep}from"./hooks.module-172fee10.js";function Cp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var oc={},jn={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.walletLogo=void 0;const xp=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Zi.walletLogo=xp;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.ScopedLocalStorage=void 0;class Ip{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Yi.ScopedLocalStorage=Ip;var Jr={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const Rp=ic;function pu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Ap(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Mp=class extends Rp.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")pu(s,this,r);else{const o=s.length,a=Ap(s);for(let c=0;c<o;c+=1)pu(a[c],this,r)}return!0}};Sr.default=Mp;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.EVENTS=void 0;ln.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Un={},ac={},Yt={},Tp=$n;$n.default=$n;$n.stable=Rf;$n.stableStringify=Rf;var Pi="[...]",xf="[Circular]",yr=[],hr=[];function If(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $n(t,e,r,n){typeof n>"u"&&(n=If()),Da(t,"",0,[],void 0,0,n);var i;try{hr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Af(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yr.length!==0;){var s=yr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Hr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),yr.push([n,r,e,i])):hr.push([e,r,t]):(n[r]=t,yr.push([n,r,e]))}function Da(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(xf,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Pi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Pi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Da(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];Da(t[u],u,a,n,t,s,o)}}n.pop()}}function kp(t,e){return t<e?-1:t>e?1:0}function Rf(t,e,r,n){typeof n>"u"&&(n=If());var i=ja(t,"",0,[],void 0,0,n)||t,s;try{hr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Af(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yr.length!==0;){var o=yr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ja(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(xf,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Pi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Pi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ja(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(kp);for(a=0;a<u.length;a++){var l=u[a];ja(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")yr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Af(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(hr.length>0)for(var n=0;n<hr.length;n++){var i=hr[n];if(i[1]===e&&i[0]===r){r=i[2],hr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Yt,"__esModule",{value:!0});Yt.EthereumProviderError=Yt.EthereumRpcError=void 0;const Op=Tp;class Mf extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Op.default(this.serialize(),Pp,2)}}Yt.EthereumRpcError=Mf;class Np extends Mf{constructor(e,r,n){if(!Lp(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Yt.EthereumProviderError=Np;function Lp(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Pp(t,e){if(e!=="[Circular]")return e}var cc={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.errorValues=Kt.errorCodes=void 0;Kt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Kt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Kt,r=Yt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,g=i){if(Number.isInteger(h)){const S=h.toString();if(f(e.errorValues,S))return e.errorValues[S].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const g=h.toString();return!!(e.errorValues[g]||u(h))}t.isValidCode=a;function c(h,{fallbackError:g=s,shouldIncludeStack:S=!1}={}){var T,x;if(!g||!Number.isInteger(g.code)||typeof g.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const b={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const C=h;b.code=C.code,C.message&&typeof C.message=="string"?(b.message=C.message,f(C,"data")&&(b.data=C.data)):(b.message=o(b.code),b.data={originalError:l(h)})}else{b.code=g.code;const C=(T=h)===null||T===void 0?void 0:T.message;b.message=C&&typeof C=="string"?C:g.message,b.data={originalError:l(h)}}const v=(x=h)===null||x===void 0?void 0:x.stack;return S&&h&&v&&typeof v=="string"&&(b.stack=v),b}t.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,g){return Object.prototype.hasOwnProperty.call(h,g)}})(cc);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.ethErrors=void 0;const uc=Yt,Tf=cc,$e=Kt;Ki.ethErrors={rpc:{parse:t=>Xe($e.errorCodes.rpc.parse,t),invalidRequest:t=>Xe($e.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Xe($e.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Xe($e.errorCodes.rpc.methodNotFound,t),internal:t=>Xe($e.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Xe(e,t)},invalidInput:t=>Xe($e.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Xe($e.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Xe($e.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Xe($e.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Xe($e.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Xe($e.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Cn($e.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Cn($e.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Cn($e.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Cn($e.errorCodes.provider.disconnected,t),chainDisconnected:t=>Cn($e.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new uc.EthereumProviderError(e,r,n)}}};function Xe(t,e){const[r,n]=kf(e);return new uc.EthereumRpcError(t,r||Tf.getMessageFromCode(t),n)}function Cn(t,e){const[r,n]=kf(e);return new uc.EthereumProviderError(t,r||Tf.getMessageFromCode(t),n)}function kf(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Yt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=cc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ki;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Kt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ac);var ge={},Xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Xi);Object.defineProperty(ge,"__esModule",{value:!0});ge.EthereumAddressFromSignedMessageResponse=ge.SubmitEthereumTransactionResponse=ge.SignEthereumTransactionResponse=ge.SignEthereumMessageResponse=ge.isRequestEthereumAccountsResponse=ge.SelectProviderResponse=ge.WatchAssetReponse=ge.RequestEthereumAccountsResponse=ge.SwitchEthereumChainResponse=ge.AddEthereumChainResponse=ge.isErrorResponse=void 0;const kt=Xi;function Dp(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}ge.isErrorResponse=Dp;function jp(t){return{method:kt.Web3Method.addEthereumChain,result:t}}ge.AddEthereumChainResponse=jp;function $p(t){return{method:kt.Web3Method.switchEthereumChain,result:t}}ge.SwitchEthereumChainResponse=$p;function Fp(t){return{method:kt.Web3Method.requestEthereumAccounts,result:t}}ge.RequestEthereumAccountsResponse=Fp;function Bp(t){return{method:kt.Web3Method.watchAsset,result:t}}ge.WatchAssetReponse=Bp;function Wp(t){return{method:kt.Web3Method.selectProvider,result:t}}ge.SelectProviderResponse=Wp;function Hp(t){return t&&t.method===kt.Web3Method.requestEthereumAccounts}ge.isRequestEthereumAccountsResponse=Hp;function Vp(t){return{method:kt.Web3Method.signEthereumMessage,result:t}}ge.SignEthereumMessageResponse=Vp;function Up(t){return{method:kt.Web3Method.signEthereumTransaction,result:t}}ge.SignEthereumTransactionResponse=Up;function zp(t){return{method:kt.Web3Method.submitEthereumTransaction,result:t}}ge.SubmitEthereumTransactionResponse=zp;function qp(t){return{method:kt.Web3Method.ethereumAddressFromSignedMessage,result:t}}ge.EthereumAddressFromSignedMessageResponse=qp;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.LIB_VERSION=void 0;zn.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=ac,r=ge,n=zn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,f){const h=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),g=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");g.searchParams.set("version",n.LIB_VERSION),g.searchParams.set("code",h.code.toString());const S=a(h.data,f);return S&&g.searchParams.set("method",S),g.searchParams.set("message",h.message),Object.assign(Object.assign({},h),{docUrl:g.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,f){var h;const g=(h=l)===null||h===void 0?void 0:h.method;if(g)return g;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(l){var f;if(typeof l=="number")return l;if(u(l))return(f=l.code)!==null&&f!==void 0?f:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(Un);var fn={},Of={exports:{}},$a={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Ji,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})($a,$a.exports);var rr=$a.exports,Nf=rr.Buffer;function es(t,e){this._block=Nf.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}es.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Nf.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};es.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};es.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hn=es,Gp=bt,Lf=hn,Jp=rr.Buffer,Qp=[1518500249,1859775393,-1894007588,-899497514],Zp=new Array(80);function qn(){this.init(),this._w=Zp,Lf.call(this,64,56)}Gp(qn,Lf);qn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Yp(t){return t<<5|t>>>27}function Kp(t){return t<<30|t>>>2}function Xp(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}qn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=Yp(r)+Xp(u,n,i,s)+o+e[c]+Qp[u]|0;o=s,s=i,i=Kp(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};qn.prototype._hash=function(){var t=Jp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var e0=qn,t0=bt,Pf=hn,r0=rr.Buffer,n0=[1518500249,1859775393,-1894007588,-899497514],i0=new Array(80);function Gn(){this.init(),this._w=i0,Pf.call(this,64,56)}t0(Gn,Pf);Gn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function s0(t){return t<<1|t>>>31}function o0(t){return t<<5|t>>>27}function a0(t){return t<<30|t>>>2}function c0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Gn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=s0(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=o0(r)+c0(u,n,i,s)+o+e[c]+n0[u]|0;o=s,s=i,i=a0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Gn.prototype._hash=function(){var t=r0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var u0=Gn,l0=bt,Df=hn,f0=rr.Buffer,h0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d0=new Array(64);function Jn(){this.init(),this._w=d0,Df.call(this,64,56)}l0(Jn,Df);Jn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function p0(t,e,r){return r^t&(e^r)}function b0(t,e,r){return t&e|r&(t|e)}function g0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function y0(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function v0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function m0(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Jn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=m0(e[l-2])+e[l-7]+v0(e[l-15])+e[l-16]|0;for(var f=0;f<64;++f){var h=u+y0(o)+p0(o,a,c)+h0[f]+e[f]|0,g=g0(r)+b0(r,n,i)|0;u=c,c=a,a=o,o=s+h|0,s=i,i=n,n=r,r=h+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};Jn.prototype._hash=function(){var t=f0.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var jf=Jn,w0=bt,_0=jf,S0=hn,E0=rr.Buffer,C0=new Array(64);function ts(){this.init(),this._w=C0,S0.call(this,64,56)}w0(ts,_0);ts.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ts.prototype._hash=function(){var t=E0.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var x0=ts,I0=bt,$f=hn,R0=rr.Buffer,bu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],A0=new Array(160);function Qn(){this.init(),this._w=A0,$f.call(this,128,112)}I0(Qn,$f);Qn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function gu(t,e,r){return r^t&(e^r)}function yu(t,e,r){return t&e|r&(t|e)}function vu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function mu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function M0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function T0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function k0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function O0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Me(t,e){return t>>>0<e>>>0?1:0}Qn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,f=this._bl|0,h=this._cl|0,g=this._dl|0,S=this._el|0,T=this._fl|0,x=this._gl|0,b=this._hl|0,v=0;v<32;v+=2)e[v]=t.readInt32BE(v*4),e[v+1]=t.readInt32BE(v*4+4);for(;v<160;v+=2){var C=e[v-30],R=e[v-15*2+1],I=M0(C,R),j=T0(R,C);C=e[v-2*2],R=e[v-2*2+1];var q=k0(C,R),U=O0(R,C),$=e[v-7*2],Z=e[v-7*2+1],ce=e[v-16*2],X=e[v-16*2+1],P=j+Z|0,M=I+$+Me(P,j)|0;P=P+U|0,M=M+q+Me(P,U)|0,P=P+X|0,M=M+ce+Me(P,X)|0,e[v]=M,e[v+1]=P}for(var F=0;F<160;F+=2){M=e[F],P=e[F+1];var B=yu(r,n,i),m=yu(l,f,h),w=vu(r,l),E=vu(l,r),A=mu(o,S),k=mu(S,o),O=bu[F],H=bu[F+1],G=gu(o,a,c),pe=gu(S,T,x),y=b+k|0,_=u+A+Me(y,b)|0;y=y+pe|0,_=_+G+Me(y,pe)|0,y=y+H|0,_=_+O+Me(y,H)|0,y=y+P|0,_=_+M+Me(y,P)|0;var N=E+m|0,V=w+B+Me(N,E)|0;u=c,b=x,c=a,x=T,a=o,T=S,S=g+y|0,o=s+_+Me(S,g)|0,s=i,g=h,i=n,h=f,n=r,f=l,l=y+N|0,r=_+V+Me(l,y)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+g|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+x|0,this._hl=this._hl+b|0,this._ah=this._ah+r+Me(this._al,l)|0,this._bh=this._bh+n+Me(this._bl,f)|0,this._ch=this._ch+i+Me(this._cl,h)|0,this._dh=this._dh+s+Me(this._dl,g)|0,this._eh=this._eh+o+Me(this._el,S)|0,this._fh=this._fh+a+Me(this._fl,T)|0,this._gh=this._gh+c+Me(this._gl,x)|0,this._hh=this._hh+u+Me(this._hl,b)|0};Qn.prototype._hash=function(){var t=R0.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Ff=Qn,N0=bt,L0=Ff,P0=hn,D0=rr.Buffer,j0=new Array(160);function rs(){this.init(),this._w=j0,P0.call(this,128,112)}N0(rs,L0);rs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};rs.prototype._hash=function(){var t=D0.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var $0=rs,Er=Of.exports=function(e){e=e.toLowerCase();var r=Er[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Er.sha=e0;Er.sha1=u0;Er.sha224=x0;Er.sha256=jf;Er.sha384=$0;Er.sha512=Ff;var F0=Of.exports,J={},B0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},wu=typeof Symbol<"u"&&Symbol,W0=B0,H0=function(){return typeof wu!="function"||typeof Symbol!="function"||typeof wu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:W0()},_u={foo:{}},V0=Object,U0=function(){return{__proto__:_u}.foo===_u.foo&&!({__proto__:null}instanceof V0)},z0="Function.prototype.bind called on incompatible ",Go=Array.prototype.slice,q0=Object.prototype.toString,G0="[object Function]",J0=function(e){var r=this;if(typeof r!="function"||q0.call(r)!==G0)throw new TypeError(z0+r);for(var n=Go.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(Go.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(Go.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Q0=J0,lc=Function.prototype.bind||Q0,Z0=lc,Y0=Z0.call(Function.call,Object.prototype.hasOwnProperty),oe,Qr=SyntaxError,Bf=Function,Vr=TypeError,Jo=function(t){try{return Bf('"use strict"; return ('+t+").constructor;")()}catch{}},br=Object.getOwnPropertyDescriptor;if(br)try{br({},"")}catch{br=null}var Qo=function(){throw new Vr},K0=br?function(){try{return arguments.callee,Qo}catch{try{return br(arguments,"callee").get}catch{return Qo}}}():Qo,Or=H0(),X0=U0(),Oe=Object.getPrototypeOf||(X0?function(t){return t.__proto__}:null),$r={},eb=typeof Uint8Array>"u"||!Oe?oe:Oe(Uint8Array),gr={"%AggregateError%":typeof AggregateError>"u"?oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?oe:ArrayBuffer,"%ArrayIteratorPrototype%":Or&&Oe?Oe([][Symbol.iterator]()):oe,"%AsyncFromSyncIteratorPrototype%":oe,"%AsyncFunction%":$r,"%AsyncGenerator%":$r,"%AsyncGeneratorFunction%":$r,"%AsyncIteratorPrototype%":$r,"%Atomics%":typeof Atomics>"u"?oe:Atomics,"%BigInt%":typeof BigInt>"u"?oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?oe:FinalizationRegistry,"%Function%":Bf,"%GeneratorFunction%":$r,"%Int8Array%":typeof Int8Array>"u"?oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Or&&Oe?Oe(Oe([][Symbol.iterator]())):oe,"%JSON%":typeof JSON=="object"?JSON:oe,"%Map%":typeof Map>"u"?oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Or||!Oe?oe:Oe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?oe:Promise,"%Proxy%":typeof Proxy>"u"?oe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Or||!Oe?oe:Oe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Or&&Oe?Oe(""[Symbol.iterator]()):oe,"%Symbol%":Or?Symbol:oe,"%SyntaxError%":Qr,"%ThrowTypeError%":K0,"%TypedArray%":eb,"%TypeError%":Vr,"%Uint8Array%":typeof Uint8Array>"u"?oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?oe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?oe:WeakSet};if(Oe)try{null.error}catch(t){var tb=Oe(Oe(t));gr["%Error.prototype%"]=tb}var rb=function t(e){var r;if(e==="%AsyncFunction%")r=Jo("async function () {}");else if(e==="%GeneratorFunction%")r=Jo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Jo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Oe&&(r=Oe(i.prototype))}return gr[e]=r,r},Su={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zn=lc,Di=Y0,nb=Zn.call(Function.call,Array.prototype.concat),ib=Zn.call(Function.apply,Array.prototype.splice),Eu=Zn.call(Function.call,String.prototype.replace),ji=Zn.call(Function.call,String.prototype.slice),sb=Zn.call(Function.call,RegExp.prototype.exec),ob=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ab=/\\(\\)?/g,cb=function(e){var r=ji(e,0,1),n=ji(e,-1);if(r==="%"&&n!=="%")throw new Qr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Qr("invalid intrinsic syntax, expected opening `%`");var i=[];return Eu(e,ob,function(s,o,a,c){i[i.length]=a?Eu(c,ab,"$1"):o||s}),i},ub=function(e,r){var n=e,i;if(Di(Su,n)&&(i=Su[n],n="%"+i[0]+"%"),Di(gr,n)){var s=gr[n];if(s===$r&&(s=rb(n)),typeof s>"u"&&!r)throw new Vr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Qr("intrinsic "+e+" does not exist!")},fc=function(e,r){if(typeof e!="string"||e.length===0)throw new Vr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vr('"allowMissing" argument must be a boolean');if(sb(/^%?[^%]*%?$/,e)===null)throw new Qr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=cb(e),i=n.length>0?n[0]:"",s=ub("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],ib(n,nb([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var h=n[l],g=ji(h,0,1),S=ji(h,-1);if((g==='"'||g==="'"||g==="`"||S==='"'||S==="'"||S==="`")&&g!==S)throw new Qr("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",Di(gr,o))a=gr[o];else if(a!=null){if(!(h in a)){if(!r)throw new Vr("base intrinsic for "+e+" exists, but the property is not available.");return}if(br&&l+1>=n.length){var T=br(a,h);f=!!T,f&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[h]}else f=Di(a,h),a=a[h];f&&!c&&(gr[o]=a)}}return a},Wf={exports:{}};(function(t){var e=lc,r=fc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var h=s(e,i,arguments);if(o&&a){var g=o(h,"length");g.configurable&&a(h,"length",{value:1+c(0,f.length-(arguments.length-1))})}return h};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(Wf);var lb=Wf.exports,Hf=fc,Vf=lb,fb=Vf(Hf("String.prototype.indexOf")),hb=function(e,r){var n=Hf(e,!!r);return typeof n=="function"&&fb(e,".prototype.")>-1?Vf(n):n},hc=typeof Map=="function"&&Map.prototype,Zo=Object.getOwnPropertyDescriptor&&hc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$i=hc&&Zo&&typeof Zo.get=="function"?Zo.get:null,Cu=hc&&Map.prototype.forEach,dc=typeof Set=="function"&&Set.prototype,Yo=Object.getOwnPropertyDescriptor&&dc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Fi=dc&&Yo&&typeof Yo.get=="function"?Yo.get:null,xu=dc&&Set.prototype.forEach,db=typeof WeakMap=="function"&&WeakMap.prototype,kn=db?WeakMap.prototype.has:null,pb=typeof WeakSet=="function"&&WeakSet.prototype,On=pb?WeakSet.prototype.has:null,bb=typeof WeakRef=="function"&&WeakRef.prototype,Iu=bb?WeakRef.prototype.deref:null,gb=Boolean.prototype.valueOf,yb=Object.prototype.toString,vb=Function.prototype.toString,mb=String.prototype.match,pc=String.prototype.slice,Qt=String.prototype.replace,wb=String.prototype.toUpperCase,Ru=String.prototype.toLowerCase,Uf=RegExp.prototype.test,Au=Array.prototype.concat,xt=Array.prototype.join,_b=Array.prototype.slice,Mu=Math.floor,Fa=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ko=Object.getOwnPropertySymbols,Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",We=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Zr||"symbol")?Symbol.toStringTag:null,zf=Object.prototype.propertyIsEnumerable,Tu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ku(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Uf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Mu(-t):Mu(t);if(n!==t){var i=String(n),s=pc.call(e,i.length+1);return Qt.call(i,r,"$&_")+"."+Qt.call(Qt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qt.call(e,r,"$&_")}var Wa=sc,Ou=Wa.custom,Nu=Gf(Ou)?Ou:null,Sb=function t(e,r,n,i){var s=r||{};if(qt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=qt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(qt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Qf(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?ku(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?ku(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return Ha(e)?"[Array]":"[Object]";var f=Bb(s,n);if(typeof i>"u")i=[];else if(Jf(i,e)>=0)return"[Circular]";function h(P,M,F){if(M&&(i=_b.call(i),i.push(M)),F){var B={depth:s.depth};return qt(s,"quoteStyle")&&(B.quoteStyle=s.quoteStyle),t(P,B,n+1,i)}return t(P,s,n+1,i)}if(typeof e=="function"&&!Lu(e)){var g=kb(e),S=gi(e,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(S.length>0?" { "+xt.call(S,", ")+" }":"")}if(Gf(e)){var T=Zr?Qt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ba.call(e);return typeof e=="object"&&!Zr?xn(T):T}if(jb(e)){for(var x="<"+Ru.call(String(e.nodeName)),b=e.attributes||[],v=0;v<b.length;v++)x+=" "+b[v].name+"="+qf(Eb(b[v].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+Ru.call(String(e.nodeName))+">",x}if(Ha(e)){if(e.length===0)return"[]";var C=gi(e,h);return f&&!Fb(C)?"["+Va(C,f)+"]":"[ "+xt.call(C,", ")+" ]"}if(xb(e)){var R=gi(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!zf.call(e,"cause")?"{ ["+String(e)+"] "+xt.call(Au.call("[cause]: "+h(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+xt.call(R,", ")+" }"}if(typeof e=="object"&&o){if(Nu&&typeof e[Nu]=="function"&&Wa)return Wa(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ob(e)){var I=[];return Cu&&Cu.call(e,function(P,M){I.push(h(M,e,!0)+" => "+h(P,e))}),Pu("Map",$i.call(e),I,f)}if(Pb(e)){var j=[];return xu&&xu.call(e,function(P){j.push(h(P,e))}),Pu("Set",Fi.call(e),j,f)}if(Nb(e))return Xo("WeakMap");if(Db(e))return Xo("WeakSet");if(Lb(e))return Xo("WeakRef");if(Rb(e))return xn(h(Number(e)));if(Mb(e))return xn(h(Fa.call(e)));if(Ab(e))return xn(gb.call(e));if(Ib(e))return xn(h(String(e)));if(!Cb(e)&&!Lu(e)){var q=gi(e,h),U=Tu?Tu(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",Z=!U&&We&&Object(e)===e&&We in e?pc.call(nr(e),8,-1):$?"Object":"",ce=U||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=ce+(Z||$?"["+xt.call(Au.call([],Z||[],$||[]),": ")+"] ":"");return q.length===0?X+"{}":f?X+"{"+Va(q,f)+"}":X+"{ "+xt.call(q,", ")+" }"}return String(e)};function qf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Eb(t){return Qt.call(String(t),/"/g,"&quot;")}function Ha(t){return nr(t)==="[object Array]"&&(!We||!(typeof t=="object"&&We in t))}function Cb(t){return nr(t)==="[object Date]"&&(!We||!(typeof t=="object"&&We in t))}function Lu(t){return nr(t)==="[object RegExp]"&&(!We||!(typeof t=="object"&&We in t))}function xb(t){return nr(t)==="[object Error]"&&(!We||!(typeof t=="object"&&We in t))}function Ib(t){return nr(t)==="[object String]"&&(!We||!(typeof t=="object"&&We in t))}function Rb(t){return nr(t)==="[object Number]"&&(!We||!(typeof t=="object"&&We in t))}function Ab(t){return nr(t)==="[object Boolean]"&&(!We||!(typeof t=="object"&&We in t))}function Gf(t){if(Zr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ba)return!1;try{return Ba.call(t),!0}catch{}return!1}function Mb(t){if(!t||typeof t!="object"||!Fa)return!1;try{return Fa.call(t),!0}catch{}return!1}var Tb=Object.prototype.hasOwnProperty||function(t){return t in this};function qt(t,e){return Tb.call(t,e)}function nr(t){return yb.call(t)}function kb(t){if(t.name)return t.name;var e=mb.call(vb.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Jf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ob(t){if(!$i||!t||typeof t!="object")return!1;try{$i.call(t);try{Fi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Nb(t){if(!kn||!t||typeof t!="object")return!1;try{kn.call(t,kn);try{On.call(t,On)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Lb(t){if(!Iu||!t||typeof t!="object")return!1;try{return Iu.call(t),!0}catch{}return!1}function Pb(t){if(!Fi||!t||typeof t!="object")return!1;try{Fi.call(t);try{$i.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Db(t){if(!On||!t||typeof t!="object")return!1;try{On.call(t,On);try{kn.call(t,kn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function jb(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Qf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Qf(pc.call(t,0,e.maxStringLength),e)+n}var i=Qt.call(Qt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$b);return qf(i,"single",e)}function $b(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+wb.call(e.toString(16))}function xn(t){return"Object("+t+")"}function Xo(t){return t+" { ? }"}function Pu(t,e,r,n){var i=n?Va(r,n):xt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Fb(t){for(var e=0;e<t.length;e++)if(Jf(t[e],`
`)>=0)return!1;return!0}function Bb(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=xt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:xt.call(Array(e+1),r)}}function Va(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+xt.call(t,","+r)+`
`+e.prev}function gi(t,e){var r=Ha(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=qt(t,i)?e(t[i],t):""}var s=typeof Ko=="function"?Ko(t):[],o;if(Zr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)qt(t,c)&&(r&&String(Number(c))===c&&c<t.length||Zr&&o["$"+c]instanceof Symbol||(Uf.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Ko=="function")for(var u=0;u<s.length;u++)zf.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var bc=fc,dn=hb,Wb=Sb,Hb=bc("%TypeError%"),yi=bc("%WeakMap%",!0),vi=bc("%Map%",!0),Vb=dn("WeakMap.prototype.get",!0),Ub=dn("WeakMap.prototype.set",!0),zb=dn("WeakMap.prototype.has",!0),qb=dn("Map.prototype.get",!0),Gb=dn("Map.prototype.set",!0),Jb=dn("Map.prototype.has",!0),gc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Qb=function(t,e){var r=gc(t,e);return r&&r.value},Zb=function(t,e,r){var n=gc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Yb=function(t,e){return!!gc(t,e)},Kb=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Hb("Side channel does not contain "+Wb(s))},get:function(s){if(yi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Vb(e,s)}else if(vi){if(r)return qb(r,s)}else if(n)return Qb(n,s)},has:function(s){if(yi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zb(e,s)}else if(vi){if(r)return Jb(r,s)}else if(n)return Yb(n,s);return!1},set:function(s,o){yi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new yi),Ub(e,s,o)):vi?(r||(r=new vi),Gb(r,s,o)):(n||(n={key:{},next:null}),Zb(n,s,o))}};return i},Xb=String.prototype.replace,eg=/%20/g,ea={RFC1738:"RFC1738",RFC3986:"RFC3986"},yc={default:ea.RFC3986,formatters:{RFC1738:function(t){return Xb.call(t,eg,"+")},RFC3986:function(t){return String(t)}},RFC1738:ea.RFC1738,RFC3986:ea.RFC3986},tg=yc,ta=Object.prototype.hasOwnProperty,cr=Array.isArray,mt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),rg=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(cr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Zf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ng=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(cr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ta.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return cr(e)&&!cr(r)&&(i=Zf(e,n)),cr(e)&&cr(r)?(r.forEach(function(s,o){if(ta.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return ta.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},ig=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},sg=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},og=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===tg.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+mt[u];continue}if(u<2048){a=a+(mt[192|u>>6]+mt[128|u&63]);continue}if(u<55296||u>=57344){a=a+(mt[224|u>>12]+mt[128|u>>6&63]+mt[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=mt[240|u>>18]+mt[128|u>>12&63]+mt[128|u>>6&63]+mt[128|u&63]}return a},ag=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return rg(r),e},cg=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ug=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},lg=function(e,r){return[].concat(e,r)},fg=function(e,r){if(cr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Yf={arrayToObject:Zf,assign:ig,combine:lg,compact:ag,decode:sg,encode:og,isBuffer:ug,isRegExp:cg,maybeMap:fg,merge:ng},Kf=Kb,ki=Yf,Nn=yc,hg=Object.prototype.hasOwnProperty,Du={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dt=Array.isArray,dg=Array.prototype.push,Xf=function(t,e){dg.apply(t,Dt(e)?e:[e])},pg=Date.prototype.toISOString,ju=Nn.default,Be={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ki.encode,encodeValuesOnly:!1,format:ju,formatter:Nn.formatters[ju],indices:!1,serializeDate:function(e){return pg.call(e)},skipNulls:!1,strictNullHandling:!1},bg=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ra={},gg=function t(e,r,n,i,s,o,a,c,u,l,f,h,g,S,T,x){for(var b=e,v=x,C=0,R=!1;(v=v.get(ra))!==void 0&&!R;){var I=v.get(e);if(C+=1,typeof I<"u"){if(I===C)throw new RangeError("Cyclic object value");R=!0}typeof v.get(ra)>"u"&&(C=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=f(b):n==="comma"&&Dt(b)&&(b=ki.maybeMap(b,function(B){return B instanceof Date?f(B):B})),b===null){if(s)return a&&!S?a(r,Be.encoder,T,"key",h):r;b=""}if(bg(b)||ki.isBuffer(b)){if(a){var j=S?r:a(r,Be.encoder,T,"key",h);return[g(j)+"="+g(a(b,Be.encoder,T,"value",h))]}return[g(r)+"="+g(String(b))]}var q=[];if(typeof b>"u")return q;var U;if(n==="comma"&&Dt(b))S&&a&&(b=ki.maybeMap(b,a)),U=[{value:b.length>0?b.join(",")||null:void 0}];else if(Dt(c))U=c;else{var $=Object.keys(b);U=u?$.sort(u):$}for(var Z=i&&Dt(b)&&b.length===1?r+"[]":r,ce=0;ce<U.length;++ce){var X=U[ce],P=typeof X=="object"&&typeof X.value<"u"?X.value:b[X];if(!(o&&P===null)){var M=Dt(b)?typeof n=="function"?n(Z,X):Z:Z+(l?"."+X:"["+X+"]");x.set(e,C);var F=Kf();F.set(ra,x),Xf(q,t(P,M,n,i,s,o,n==="comma"&&S&&Dt(b)?null:a,c,u,l,f,h,g,S,T,F))}}return q},yg=function(e){if(!e)return Be;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Be.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Nn.default;if(typeof e.format<"u"){if(!hg.call(Nn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Nn.formatters[n],s=Be.filter;return(typeof e.filter=="function"||Dt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Be.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Be.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Be.charsetSentinel,delimiter:typeof e.delimiter>"u"?Be.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Be.encode,encoder:typeof e.encoder=="function"?e.encoder:Be.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Be.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Be.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Be.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Be.strictNullHandling}},vg=function(t,e){var r=t,n=yg(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Dt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Du?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Du[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Kf(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||Xf(o,gg(r[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var g=o.join(n.delimiter),S=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),g.length>0?S+g:""},Yr=Yf,Ua=Object.prototype.hasOwnProperty,mg=Array.isArray,Te={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Yr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},wg=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},eh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},_g="utf8=%26%2310003%3B",Sg="utf8=%E2%9C%93",Eg=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Sg?u="utf-8":o[c]===_g&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,g,S;h===-1?(g=r.decoder(l,Te.decoder,u,"key"),S=r.strictNullHandling?null:""):(g=r.decoder(l.slice(0,h),Te.decoder,u,"key"),S=Yr.maybeMap(eh(l.slice(h+1),r),function(T){return r.decoder(T,Te.decoder,u,"value")})),S&&r.interpretNumericEntities&&u==="iso-8859-1"&&(S=wg(S)),l.indexOf("[]=")>-1&&(S=mg(S)?[S]:S),Ua.call(n,g)?n[g]=Yr.combine(n[g],S):n[g]=S}return n},Cg=function(t,e,r,n){for(var i=n?e:eh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},xg=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&Ua.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&Ua.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Cg(l,r,n,i)}},Ig=function(e){if(!e)return Te;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Te.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Te.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Te.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Te.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Te.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Te.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Te.comma,decoder:typeof e.decoder=="function"?e.decoder:Te.decoder,delimiter:typeof e.delimiter=="string"||Yr.isRegExp(e.delimiter)?e.delimiter:Te.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Te.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Te.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Te.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Te.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Te.strictNullHandling}},Rg=function(t,e){var r=Ig(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Eg(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=xg(a,n[a],r,typeof t=="string");i=Yr.merge(i,c,r)}return r.allowSparse===!0?i:Yr.compact(i)},Ag=vg,Mg=Rg,Tg=yc,kg={formats:Tg,parse:Mg,stringify:Ag},Yn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Yn);var Og=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.isInIFrame=J.createQrUrl=J.getFavicon=J.range=J.isBigNumber=J.ensureParsedJSONObject=J.ensureBN=J.ensureRegExpString=J.ensureIntNumber=J.ensureBuffer=J.ensureAddressString=J.ensureEvenLengthHexString=J.ensureHexString=J.isHexString=J.prepend0x=J.strip0x=J.has0xPrefix=J.hexStringFromIntNumber=J.intNumberFromHexString=J.bigIntStringFromBN=J.hexStringFromBuffer=J.hexStringToUint8Array=J.uint8ArrayToHex=J.randomBytesHex=void 0;const Gt=Og(Qi),Ng=kg,Cr=Un,st=Yn,th=/^[0-9]*$/,rh=/^[a-f0-9]*$/;function Lg(t){return nh(crypto.getRandomValues(new Uint8Array(t)))}J.randomBytesHex=Lg;function nh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}J.uint8ArrayToHex=nh;function Pg(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}J.hexStringToUint8Array=Pg;function Dg(t,e=!1){const r=t.toString("hex");return(0,st.HexString)(e?"0x"+r:r)}J.hexStringFromBuffer=Dg;function jg(t){return(0,st.BigIntString)(t.toString(10))}J.bigIntStringFromBN=jg;function $g(t){return(0,st.IntNumber)(new Gt.default(Xn(t,!1),16).toNumber())}J.intNumberFromHexString=$g;function Fg(t){return(0,st.HexString)("0x"+new Gt.default(t).toString(16))}J.hexStringFromIntNumber=Fg;function vc(t){return t.startsWith("0x")||t.startsWith("0X")}J.has0xPrefix=vc;function ns(t){return vc(t)?t.slice(2):t}J.strip0x=ns;function ih(t){return vc(t)?"0x"+t.slice(2):"0x"+t}J.prepend0x=ih;function Kn(t){if(typeof t!="string")return!1;const e=ns(t).toLowerCase();return rh.test(e)}J.isHexString=Kn;function sh(t,e=!1){if(typeof t=="string"){const r=ns(t).toLowerCase();if(rh.test(r))return(0,st.HexString)(e?"0x"+r:r)}throw Cr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}J.ensureHexString=sh;function Xn(t,e=!1){let r=sh(t,!1);return r.length%2===1&&(r=(0,st.HexString)("0"+r)),e?(0,st.HexString)("0x"+r):r}J.ensureEvenLengthHexString=Xn;function Bg(t){if(typeof t=="string"){const e=ns(t).toLowerCase();if(Kn(e)&&e.length===40)return(0,st.AddressString)(ih(e))}throw Cr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}J.ensureAddressString=Bg;function Wg(t){if(ne.isBuffer(t))return t;if(typeof t=="string")if(Kn(t)){const e=Xn(t,!1);return ne.from(e,"hex")}else return ne.from(t,"utf8");throw Cr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}J.ensureBuffer=Wg;function oh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,st.IntNumber)(t);if(typeof t=="string"){if(th.test(t))return(0,st.IntNumber)(Number(t));if(Kn(t))return(0,st.IntNumber)(new Gt.default(Xn(t,!1),16).toNumber())}throw Cr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}J.ensureIntNumber=oh;function Hg(t){if(t instanceof RegExp)return(0,st.RegExpString)(t.toString());throw Cr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}J.ensureRegExpString=Hg;function Vg(t){if(t!==null&&(Gt.default.isBN(t)||ah(t)))return new Gt.default(t.toString(10),10);if(typeof t=="number")return new Gt.default(oh(t));if(typeof t=="string"){if(th.test(t))return new Gt.default(t,10);if(Kn(t))return new Gt.default(Xn(t,!1),16)}throw Cr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}J.ensureBN=Vg;function Ug(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Cr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}J.ensureParsedJSONObject=Ug;function ah(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}J.isBigNumber=ah;function zg(t,e){return Array.from({length:e-t},(r,n)=>t+n)}J.range=zg;function qg(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}J.getFavicon=qg;function Gg(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Ng.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}J.createQrUrl=Gg;function Jg(){try{return window.frameElement!==null}catch{return!1}}J.isInIFrame=Jg;Object.defineProperty(fn,"__esModule",{value:!0});fn.Session=void 0;const $u=F0,Fu=J,Bu="session:id",Wu="session:secret",Hu="session:linked";class mc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Fu.randomBytesHex)(16),this._secret=n||(0,Fu.randomBytesHex)(32),this._key=new $u.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Bu),n=e.getItem(Hu),i=e.getItem(Wu);return r&&i?new mc(e,r,i,n==="1"):null}static hash(e){return new $u.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Bu,this._id),this._storage.setItem(Wu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Hu,this._linked?"1":"0")}}fn.Session=mc;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.WalletSDKRelayAbstract=pt.APP_VERSION_KEY=pt.LOCAL_STORAGE_ADDRESSES_KEY=pt.WALLET_USER_NAME_KEY=void 0;const Vu=Un;pt.WALLET_USER_NAME_KEY="walletUsername";pt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";pt.APP_VERSION_KEY="AppVersion";class Qg{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Vu.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Vu.serializeError)(s,e.method);return i})}}pt.WalletSDKRelayAbstract=Qg;var za={exports:{}},ch=ic.EventEmitter,na,Uu;function Zg(){if(Uu)return na;Uu=1;function t(S,T){var x=Object.keys(S);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(S);T&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),x.push.apply(x,b)}return x}function e(S){for(var T=1;T<arguments.length;T++){var x=arguments[T]!=null?arguments[T]:{};T%2?t(Object(x),!0).forEach(function(b){r(S,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(x)):t(Object(x)).forEach(function(b){Object.defineProperty(S,b,Object.getOwnPropertyDescriptor(x,b))})}return S}function r(S,T,x){return T=o(T),T in S?Object.defineProperty(S,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[T]=x,S}function n(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function i(S,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,o(b.key),b)}}function s(S,T,x){return T&&i(S.prototype,T),x&&i(S,x),Object.defineProperty(S,"prototype",{writable:!1}),S}function o(S){var T=a(S,"string");return typeof T=="symbol"?T:String(T)}function a(S,T){if(typeof S!="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var b=x.call(S,T||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}var c=Ji,u=c.Buffer,l=sc,f=l.inspect,h=f&&f.custom||"inspect";function g(S,T,x){u.prototype.copy.call(S,T,x)}return na=function(){function S(){n(this,S),this.head=null,this.tail=null,this.length=0}return s(S,[{key:"push",value:function(x){var b={data:x,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(x){var b={data:x,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var b=this.head,v=""+b.data;b=b.next;)v+=x+b.data;return v}},{key:"concat",value:function(x){if(this.length===0)return u.alloc(0);for(var b=u.allocUnsafe(x>>>0),v=this.head,C=0;v;)g(v.data,b,C),C+=v.data.length,v=v.next;return b}},{key:"consume",value:function(x,b){var v;return x<this.head.data.length?(v=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?v=this.shift():v=b?this._getString(x):this._getBuffer(x),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var b=this.head,v=1,C=b.data;for(x-=C.length;b=b.next;){var R=b.data,I=x>R.length?R.length:x;if(I===R.length?C+=R:C+=R.slice(0,x),x-=I,x===0){I===R.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=R.slice(I));break}++v}return this.length-=v,C}},{key:"_getBuffer",value:function(x){var b=u.allocUnsafe(x),v=this.head,C=1;for(v.data.copy(b),x-=v.data.length;v=v.next;){var R=v.data,I=x>R.length?R.length:x;if(R.copy(b,b.length-x,0,I),x-=I,x===0){I===R.length?(++C,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=R.slice(I));break}++C}return this.length-=C,b}},{key:h,value:function(x,b){return f(this,e(e({},b),{},{depth:0,customInspect:!1}))}}]),S}(),na}function Yg(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,fe.nextTick(qa,this,t)):fe.nextTick(qa,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?fe.nextTick(Oi,r):(r._writableState.errorEmitted=!0,fe.nextTick(zu,r,s)):fe.nextTick(zu,r,s):e?(fe.nextTick(Oi,r),e(s)):fe.nextTick(Oi,r)}),this)}function zu(t,e){qa(t,e),Oi(t)}function Oi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Kg(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qa(t,e){t.emit("error",e)}function Xg(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var uh={destroy:Yg,undestroy:Kg,errorOrDestroy:Xg},xr={};function ey(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var lh={};function at(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){ey(o,s);function o(a,c,u){return s.call(this,n(a,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,lh[t]=i}function qu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function ty(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ry(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ny(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}at("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);at("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&ty(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(ry(t," argument"))i="The ".concat(t," ").concat(n," ").concat(qu(e,"type"));else{var s=ny(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(qu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);at("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");at("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});at("ERR_STREAM_PREMATURE_CLOSE","Premature close");at("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});at("ERR_MULTIPLE_CALLBACK","Callback called multiple times");at("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");at("ERR_STREAM_WRITE_AFTER_END","write after end");at("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);at("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);at("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");xr.codes=lh;var iy=xr.codes.ERR_INVALID_OPT_VALUE;function sy(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function oy(t,e,r,n){var i=sy(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new iy(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var fh={getHighWaterMark:oy},ay=cy;function cy(t,e){if(ia("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ia("throwDeprecation"))throw new Error(e);ia("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ia(t){try{if(!z.localStorage)return!1}catch{return!1}var e=z.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var sa,Gu;function hh(){if(Gu)return sa;Gu=1,sa=U;function t(y){var _=this;this.next=null,this.entry=null,this.finish=function(){pe(_,y)}}var e;U.WritableState=j;var r={deprecate:ay},n=ch,i=Ji.Buffer,s=(typeof z<"u"?z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(y){return i.from(y)}function a(y){return i.isBuffer(y)||y instanceof s}var c=uh,u=fh,l=u.getHighWaterMark,f=xr.codes,h=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,S=f.ERR_MULTIPLE_CALLBACK,T=f.ERR_STREAM_CANNOT_PIPE,x=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,C=f.ERR_UNKNOWN_ENCODING,R=c.errorOrDestroy;bt(U,n);function I(){}function j(y,_,N){e=e||Kr(),y=y||{},typeof N!="boolean"&&(N=_ instanceof e),this.objectMode=!!y.objectMode,N&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=l(this,y,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=y.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){B(_,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}j.prototype.getBuffer=function(){for(var _=this.bufferedRequest,N=[];_;)N.push(_),_=_.next;return N},function(){try{Object.defineProperty(j.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(_){return q.call(this,_)?!0:this!==U?!1:_&&_._writableState instanceof j}})):q=function(_){return _ instanceof this};function U(y){e=e||Kr();var _=this instanceof e;if(!_&&!q.call(U,this))return new U(y);this._writableState=new j(y,this,_),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),n.call(this)}U.prototype.pipe=function(){R(this,new T)};function $(y,_){var N=new v;R(y,N),fe.nextTick(_,N)}function Z(y,_,N,V){var Y;return N===null?Y=new b:typeof N!="string"&&!_.objectMode&&(Y=new h("chunk",["string","Buffer"],N)),Y?(R(y,Y),fe.nextTick(V,Y),!1):!0}U.prototype.write=function(y,_,N){var V=this._writableState,Y=!1,d=!V.objectMode&&a(y);return d&&!i.isBuffer(y)&&(y=o(y)),typeof _=="function"&&(N=_,_=null),d?_="buffer":_||(_=V.defaultEncoding),typeof N!="function"&&(N=I),V.ending?$(this,N):(d||Z(this,V,y,N))&&(V.pendingcb++,Y=X(this,V,d,y,_,N)),Y},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&E(this,y))},U.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new C(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(y,_,N){return!y.objectMode&&y.decodeStrings!==!1&&typeof _=="string"&&(_=i.from(_,N)),_}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(y,_,N,V,Y,d){if(!N){var p=ce(_,V,Y);V!==p&&(N=!0,Y="buffer",V=p)}var L=_.objectMode?1:V.length;_.length+=L;var W=_.length<_.highWaterMark;if(W||(_.needDrain=!0),_.writing||_.corked){var ye=_.lastBufferedRequest;_.lastBufferedRequest={chunk:V,encoding:Y,isBuf:N,callback:d,next:null},ye?ye.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else P(y,_,!1,L,V,Y,d);return W}function P(y,_,N,V,Y,d,p){_.writelen=V,_.writecb=p,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new x("write")):N?y._writev(Y,_.onwrite):y._write(Y,d,_.onwrite),_.sync=!1}function M(y,_,N,V,Y){--_.pendingcb,N?(fe.nextTick(Y,V),fe.nextTick(H,y,_),y._writableState.errorEmitted=!0,R(y,V)):(Y(V),y._writableState.errorEmitted=!0,R(y,V),H(y,_))}function F(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function B(y,_){var N=y._writableState,V=N.sync,Y=N.writecb;if(typeof Y!="function")throw new S;if(F(N),_)M(y,N,V,_,Y);else{var d=A(N)||y.destroyed;!d&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&E(y,N),V?fe.nextTick(m,y,N,d,Y):m(y,N,d,Y)}}function m(y,_,N,V){N||w(y,_),_.pendingcb--,V(),H(y,_)}function w(y,_){_.length===0&&_.needDrain&&(_.needDrain=!1,y.emit("drain"))}function E(y,_){_.bufferProcessing=!0;var N=_.bufferedRequest;if(y._writev&&N&&N.next){var V=_.bufferedRequestCount,Y=new Array(V),d=_.corkedRequestsFree;d.entry=N;for(var p=0,L=!0;N;)Y[p]=N,N.isBuf||(L=!1),N=N.next,p+=1;Y.allBuffers=L,P(y,_,!0,_.length,Y,"",d.finish),_.pendingcb++,_.lastBufferedRequest=null,d.next?(_.corkedRequestsFree=d.next,d.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;N;){var W=N.chunk,ye=N.encoding,te=N.callback,de=_.objectMode?1:W.length;if(P(y,_,!1,de,W,ye,te),N=N.next,_.bufferedRequestCount--,_.writing)break}N===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=N,_.bufferProcessing=!1}U.prototype._write=function(y,_,N){N(new g("_write()"))},U.prototype._writev=null,U.prototype.end=function(y,_,N){var V=this._writableState;return typeof y=="function"?(N=y,y=null,_=null):typeof _=="function"&&(N=_,_=null),y!=null&&this.write(y,_),V.corked&&(V.corked=1,this.uncork()),V.ending||G(this,V,N),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function A(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function k(y,_){y._final(function(N){_.pendingcb--,N&&R(y,N),_.prefinished=!0,y.emit("prefinish"),H(y,_)})}function O(y,_){!_.prefinished&&!_.finalCalled&&(typeof y._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,fe.nextTick(k,y,_)):(_.prefinished=!0,y.emit("prefinish")))}function H(y,_){var N=A(_);if(N&&(O(y,_),_.pendingcb===0&&(_.finished=!0,y.emit("finish"),_.autoDestroy))){var V=y._readableState;(!V||V.autoDestroy&&V.endEmitted)&&y.destroy()}return N}function G(y,_,N){_.ending=!0,H(y,_),N&&(_.finished?fe.nextTick(N):y.once("finish",N)),_.ended=!0,y.writable=!1}function pe(y,_,N){var V=y.entry;for(y.entry=null;V;){var Y=V.callback;_.pendingcb--,Y(N),V=V.next}_.corkedRequestsFree.next=y}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),U.prototype.destroy=c.destroy,U.prototype._undestroy=c.undestroy,U.prototype._destroy=function(y,_){_(y)},sa}var oa,Ju;function Kr(){if(Ju)return oa;Ju=1;var t=Object.keys||function(u){var l=[];for(var f in u)l.push(f);return l};oa=o;var e=ph(),r=hh();bt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||fe.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),oa}var aa={},Qu;function Zu(){if(Qu)return aa;Qu=1;var t=rr.Buffer,e=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var v;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(v)return;b=(""+b).toLowerCase(),v=!0}}function n(b){var v=r(b);if(typeof v!="string"&&(t.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return v||b}aa.StringDecoder=i;function i(b){this.encoding=n(b);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=g,this.end=S,v=3;break;default:this.write=T,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(b){if(b.length===0)return"";var v,C;if(this.lastNeed){if(v=this.fillLast(b),v===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<b.length?v?v+this.text(b,C):this.text(b,C):v||""},i.prototype.end=l,i.prototype.text=u,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,v,C){var R=v.length-1;if(R<C)return 0;var I=s(v[R]);return I>=0?(I>0&&(b.lastNeed=I-1),I):--R<C||I===-2?0:(I=s(v[R]),I>=0?(I>0&&(b.lastNeed=I-2),I):--R<C||I===-2?0:(I=s(v[R]),I>=0?(I>0&&(I===2?I=0:b.lastNeed=I-3),I):0))}function a(b,v,C){if((v[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return b.lastNeed=2,""}}function c(b){var v=this.lastTotal-this.lastNeed,C=a(this,b);if(C!==void 0)return C;if(this.lastNeed<=b.length)return b.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,v,0,b.length),this.lastNeed-=b.length}function u(b,v){var C=o(this,b,v);if(!this.lastNeed)return b.toString("utf8",v);this.lastTotal=C;var R=b.length-(C-this.lastNeed);return b.copy(this.lastChar,0,R),b.toString("utf8",v,R)}function l(b){var v=b&&b.length?this.write(b):"";return this.lastNeed?v+"":v}function f(b,v){if((b.length-v)%2===0){var C=b.toString("utf16le",v);if(C){var R=C.charCodeAt(C.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",v,b.length-1)}function h(b){var v=b&&b.length?this.write(b):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,C)}return v}function g(b,v){var C=(b.length-v)%3;return C===0?b.toString("base64",v):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",v,b.length-C))}function S(b){var v=b&&b.length?this.write(b):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function T(b){return b.toString(this.encoding)}function x(b){return b&&b.length?this.write(b):""}return aa}var Yu=xr.codes.ERR_STREAM_PREMATURE_CLOSE;function uy(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function ly(){}function fy(t){return t.setHeader&&typeof t.abort=="function"}function dh(t,e,r){if(typeof e=="function")return dh(t,null,e);e||(e={}),r=uy(r||ly);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(S){r.call(t,S)},f=function(){var S;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(S=new Yu),r.call(t,S);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(S=new Yu),r.call(t,S)},h=function(){t.req.on("finish",a)};return fy(t)?(t.on("complete",a),t.on("abort",f),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",f)}}var wc=dh,ca,Ku;function hy(){if(Ku)return ca;Ku=1;var t;function e(C,R,I){return R=r(R),R in C?Object.defineProperty(C,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[R]=I,C}function r(C){var R=n(C,"string");return typeof R=="symbol"?R:String(R)}function n(C,R){if(typeof C!="object"||C===null)return C;var I=C[Symbol.toPrimitive];if(I!==void 0){var j=I.call(C,R||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(C)}var i=wc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function h(C,R){return{value:C,done:R}}function g(C){var R=C[s];if(R!==null){var I=C[f].read();I!==null&&(C[u]=null,C[s]=null,C[o]=null,R(h(I,!1)))}}function S(C){fe.nextTick(g,C)}function T(C,R){return function(I,j){C.then(function(){if(R[c]){I(h(void 0,!0));return}R[l](I,j)},j)}}var x=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var R=this,I=this[a];if(I!==null)return Promise.reject(I);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function($,Z){fe.nextTick(function(){R[a]?Z(R[a]):$(h(void 0,!0))})});var j=this[u],q;if(j)q=new Promise(T(j,this));else{var U=this[f].read();if(U!==null)return Promise.resolve(h(U,!1));q=new Promise(this[l])}return this[u]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(I,j){R[f].destroy(null,function(q){if(q){j(q);return}I(h(void 0,!0))})})}),t),x),v=function(R){var I,j=Object.create(b,(I={},e(I,f,{value:R,writable:!0}),e(I,s,{value:null,writable:!0}),e(I,o,{value:null,writable:!0}),e(I,a,{value:null,writable:!0}),e(I,c,{value:R._readableState.endEmitted,writable:!0}),e(I,l,{value:function(U,$){var Z=j[f].read();Z?(j[u]=null,j[s]=null,j[o]=null,U(h(Z,!1))):(j[s]=U,j[o]=$)},writable:!0}),I));return j[u]=null,i(R,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=j[o];U!==null&&(j[u]=null,j[s]=null,j[o]=null,U(q)),j[a]=q;return}var $=j[s];$!==null&&(j[u]=null,j[s]=null,j[o]=null,$(h(void 0,!0))),j[c]=!0}),R.on("readable",S.bind(null,j)),j};return ca=v,ca}var ua,Xu;function dy(){return Xu||(Xu=1,ua=function(){throw new Error("Readable.from is not available in the browser")}),ua}var la,el;function ph(){if(el)return la;el=1,la=$;var t;$.ReadableState=U,ic.EventEmitter;var e=function(p,L){return p.listeners(L).length},r=ch,n=Ji.Buffer,i=(typeof z<"u"?z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(d){return n.from(d)}function o(d){return n.isBuffer(d)||d instanceof i}var a=sc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=Zg(),l=uh,f=fh,h=f.getHighWaterMark,g=xr.codes,S=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,C,R;bt($,r);var I=l.errorOrDestroy,j=["error","close","destroy","pause","resume"];function q(d,p,L){if(typeof d.prependListener=="function")return d.prependListener(p,L);!d._events||!d._events[p]?d.on(p,L):Array.isArray(d._events[p])?d._events[p].unshift(L):d._events[p]=[L,d._events[p]]}function U(d,p,L){t=t||Kr(),d=d||{},typeof L!="boolean"&&(L=p instanceof t),this.objectMode=!!d.objectMode,L&&(this.objectMode=this.objectMode||!!d.readableObjectMode),this.highWaterMark=h(this,d,"readableHighWaterMark",L),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=d.emitClose!==!1,this.autoDestroy=!!d.autoDestroy,this.destroyed=!1,this.defaultEncoding=d.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,d.encoding&&(v||(v=Zu().StringDecoder),this.decoder=new v(d.encoding),this.encoding=d.encoding)}function $(d){if(t=t||Kr(),!(this instanceof $))return new $(d);var p=this instanceof t;this._readableState=new U(d,this,p),this.readable=!0,d&&(typeof d.read=="function"&&(this._read=d.read),typeof d.destroy=="function"&&(this._destroy=d.destroy)),r.call(this)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(p){this._readableState&&(this._readableState.destroyed=p)}}),$.prototype.destroy=l.destroy,$.prototype._undestroy=l.undestroy,$.prototype._destroy=function(d,p){p(d)},$.prototype.push=function(d,p){var L=this._readableState,W;return L.objectMode?W=!0:typeof d=="string"&&(p=p||L.defaultEncoding,p!==L.encoding&&(d=n.from(d,p),p=""),W=!0),Z(this,d,p,!1,W)},$.prototype.unshift=function(d){return Z(this,d,null,!0,!1)};function Z(d,p,L,W,ye){c("readableAddChunk",p);var te=d._readableState;if(p===null)te.reading=!1,B(d,te);else{var de;if(ye||(de=X(te,p)),de)I(d,de);else if(te.objectMode||p&&p.length>0)if(typeof p!="string"&&!te.objectMode&&Object.getPrototypeOf(p)!==n.prototype&&(p=s(p)),W)te.endEmitted?I(d,new b):ce(d,te,p,!0);else if(te.ended)I(d,new T);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!L?(p=te.decoder.write(p),te.objectMode||p.length!==0?ce(d,te,p,!1):E(d,te)):ce(d,te,p,!1)}else W||(te.reading=!1,E(d,te))}return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function ce(d,p,L,W){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,d.emit("data",L)):(p.length+=p.objectMode?1:L.length,W?p.buffer.unshift(L):p.buffer.push(L),p.needReadable&&m(d)),E(d,p)}function X(d,p){var L;return!o(p)&&typeof p!="string"&&p!==void 0&&!d.objectMode&&(L=new S("chunk",["string","Buffer","Uint8Array"],p)),L}$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(d){v||(v=Zu().StringDecoder);var p=new v(d);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,W="";L!==null;)W+=p.write(L.data),L=L.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var P=1073741824;function M(d){return d>=P?d=P:(d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++),d}function F(d,p){return d<=0||p.length===0&&p.ended?0:p.objectMode?1:d!==d?p.flowing&&p.length?p.buffer.head.data.length:p.length:(d>p.highWaterMark&&(p.highWaterMark=M(d)),d<=p.length?d:p.ended?p.length:(p.needReadable=!0,0))}$.prototype.read=function(d){c("read",d),d=parseInt(d,10);var p=this._readableState,L=d;if(d!==0&&(p.emittedReadable=!1),d===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return c("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?N(this):m(this),null;if(d=F(d,p),d===0&&p.ended)return p.length===0&&N(this),null;var W=p.needReadable;c("need readable",W),(p.length===0||p.length-d<p.highWaterMark)&&(W=!0,c("length less than watermark",W)),p.ended||p.reading?(W=!1,c("reading or ended",W)):W&&(c("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,p.reading||(d=F(L,p)));var ye;return d>0?ye=_(d,p):ye=null,ye===null?(p.needReadable=p.length<=p.highWaterMark,d=0):(p.length-=d,p.awaitDrain=0),p.length===0&&(p.ended||(p.needReadable=!0),L!==d&&p.ended&&N(this)),ye!==null&&this.emit("data",ye),ye};function B(d,p){if(c("onEofChunk"),!p.ended){if(p.decoder){var L=p.decoder.end();L&&L.length&&(p.buffer.push(L),p.length+=p.objectMode?1:L.length)}p.ended=!0,p.sync?m(d):(p.needReadable=!1,p.emittedReadable||(p.emittedReadable=!0,w(d)))}}function m(d){var p=d._readableState;c("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(c("emitReadable",p.flowing),p.emittedReadable=!0,fe.nextTick(w,d))}function w(d){var p=d._readableState;c("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(d.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,y(d)}function E(d,p){p.readingMore||(p.readingMore=!0,fe.nextTick(A,d,p))}function A(d,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var L=p.length;if(c("maybeReadMore read 0"),d.read(0),L===p.length)break}p.readingMore=!1}$.prototype._read=function(d){I(this,new x("_read()"))},$.prototype.pipe=function(d,p){var L=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=d;break;case 1:W.pipes=[W.pipes,d];break;default:W.pipes.push(d);break}W.pipesCount+=1,c("pipe count=%d opts=%j",W.pipesCount,p);var ye=(!p||p.end!==!1)&&d!==fe.stdout&&d!==fe.stderr,te=ye?Ot:Ht;W.endEmitted?fe.nextTick(te):L.once("end",te),d.on("unpipe",de);function de(Nt,vt){c("onunpipe"),Nt===L&&vt&&vt.hasUnpiped===!1&&(vt.hasUnpiped=!0,bi())}function Ot(){c("onend"),d.end()}var ir=k(L);d.on("drain",ir);var Sn=!1;function bi(){c("cleanup"),d.removeListener("close",Tr),d.removeListener("finish",kr),d.removeListener("drain",ir),d.removeListener("error",Mr),d.removeListener("unpipe",de),L.removeListener("end",Ot),L.removeListener("end",Ht),L.removeListener("data",En),Sn=!0,W.awaitDrain&&(!d._writableState||d._writableState.needDrain)&&ir()}L.on("data",En);function En(Nt){c("ondata");var vt=d.write(Nt);c("dest.write",vt),vt===!1&&((W.pipesCount===1&&W.pipes===d||W.pipesCount>1&&Y(W.pipes,d)!==-1)&&!Sn&&(c("false write response, pause",W.awaitDrain),W.awaitDrain++),L.pause())}function Mr(Nt){c("onerror",Nt),Ht(),d.removeListener("error",Mr),e(d,"error")===0&&I(d,Nt)}q(d,"error",Mr);function Tr(){d.removeListener("finish",kr),Ht()}d.once("close",Tr);function kr(){c("onfinish"),d.removeListener("close",Tr),Ht()}d.once("finish",kr);function Ht(){c("unpipe"),L.unpipe(d)}return d.emit("pipe",L),W.flowing||(c("pipe resume"),L.resume()),d};function k(d){return function(){var L=d._readableState;c("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&e(d,"data")&&(L.flowing=!0,y(d))}}$.prototype.unpipe=function(d){var p=this._readableState,L={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return d&&d!==p.pipes?this:(d||(d=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,d&&d.emit("unpipe",this,L),this);if(!d){var W=p.pipes,ye=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var te=0;te<ye;te++)W[te].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Y(p.pipes,d);return de===-1?this:(p.pipes.splice(de,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),d.emit("unpipe",this,L),this)},$.prototype.on=function(d,p){var L=r.prototype.on.call(this,d,p),W=this._readableState;return d==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):d==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,c("on readable",W.length,W.reading),W.length?m(this):W.reading||fe.nextTick(H,this)),L},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(d,p){var L=r.prototype.removeListener.call(this,d,p);return d==="readable"&&fe.nextTick(O,this),L},$.prototype.removeAllListeners=function(d){var p=r.prototype.removeAllListeners.apply(this,arguments);return(d==="readable"||d===void 0)&&fe.nextTick(O,this),p};function O(d){var p=d._readableState;p.readableListening=d.listenerCount("readable")>0,p.resumeScheduled&&!p.paused?p.flowing=!0:d.listenerCount("data")>0&&d.resume()}function H(d){c("readable nexttick read 0"),d.read(0)}$.prototype.resume=function(){var d=this._readableState;return d.flowing||(c("resume"),d.flowing=!d.readableListening,G(this,d)),d.paused=!1,this};function G(d,p){p.resumeScheduled||(p.resumeScheduled=!0,fe.nextTick(pe,d,p))}function pe(d,p){c("resume",p.reading),p.reading||d.read(0),p.resumeScheduled=!1,d.emit("resume"),y(d),p.flowing&&!p.reading&&d.read(0)}$.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(d){var p=d._readableState;for(c("flow",p.flowing);p.flowing&&d.read()!==null;);}$.prototype.wrap=function(d){var p=this,L=this._readableState,W=!1;d.on("end",function(){if(c("wrapped end"),L.decoder&&!L.ended){var de=L.decoder.end();de&&de.length&&p.push(de)}p.push(null)}),d.on("data",function(de){if(c("wrapped data"),L.decoder&&(de=L.decoder.write(de)),!(L.objectMode&&de==null)&&!(!L.objectMode&&(!de||!de.length))){var Ot=p.push(de);Ot||(W=!0,d.pause())}});for(var ye in d)this[ye]===void 0&&typeof d[ye]=="function"&&(this[ye]=function(Ot){return function(){return d[Ot].apply(d,arguments)}}(ye));for(var te=0;te<j.length;te++)d.on(j[te],this.emit.bind(this,j[te]));return this._read=function(de){c("wrapped _read",de),W&&(W=!1,d.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=hy()),C(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}}),$._fromList=_,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(d,p){if(p.length===0)return null;var L;return p.objectMode?L=p.buffer.shift():!d||d>=p.length?(p.decoder?L=p.buffer.join(""):p.buffer.length===1?L=p.buffer.first():L=p.buffer.concat(p.length),p.buffer.clear()):L=p.buffer.consume(d,p.decoder),L}function N(d){var p=d._readableState;c("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,fe.nextTick(V,p,d))}function V(d,p){if(c("endReadableNT",d.endEmitted,d.length),!d.endEmitted&&d.length===0&&(d.endEmitted=!0,p.readable=!1,p.emit("end"),d.autoDestroy)){var L=p._writableState;(!L||L.autoDestroy&&L.finished)&&p.destroy()}}typeof Symbol=="function"&&($.from=function(d,p){return R===void 0&&(R=dy()),R($,d,p)});function Y(d,p){for(var L=0,W=d.length;L<W;L++)if(d[L]===p)return L;return-1}return la}var bh=Ft,is=xr.codes,py=is.ERR_METHOD_NOT_IMPLEMENTED,by=is.ERR_MULTIPLE_CALLBACK,gy=is.ERR_TRANSFORM_ALREADY_TRANSFORMING,yy=is.ERR_TRANSFORM_WITH_LENGTH_0,ss=Kr();bt(Ft,ss);function vy(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new by);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ft(t){if(!(this instanceof Ft))return new Ft(t);ss.call(this,t),this._transformState={afterTransform:vy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",my)}function my(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){tl(t,e,r)}):tl(this,null,null)}Ft.prototype.push=function(t,e){return this._transformState.needTransform=!1,ss.prototype.push.call(this,t,e)};Ft.prototype._transform=function(t,e,r){r(new py("_transform()"))};Ft.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ft.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ft.prototype._destroy=function(t,e){ss.prototype._destroy.call(this,t,function(r){e(r)})};function tl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new yy;if(t._transformState.transforming)throw new gy;return t.push(null)}var wy=Fn,gh=bh;bt(Fn,gh);function Fn(t){if(!(this instanceof Fn))return new Fn(t);gh.call(this,t)}Fn.prototype._transform=function(t,e,r){r(null,t)};var fa;function _y(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var yh=xr.codes,Sy=yh.ERR_MISSING_ARGS,Ey=yh.ERR_STREAM_DESTROYED;function rl(t){if(t)throw t}function Cy(t){return t.setHeader&&typeof t.abort=="function"}function xy(t,e,r,n){n=_y(n);var i=!1;t.on("close",function(){i=!0}),fa===void 0&&(fa=wc),fa(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Cy(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Ey("pipe"))}}}function nl(t){t()}function Iy(t,e){return t.pipe(e)}function Ry(t){return!t.length||typeof t[t.length-1]!="function"?rl:t.pop()}function Ay(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Ry(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Sy("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return xy(o,c,u,function(l){i||(i=l),l&&s.forEach(nl),!c&&(s.forEach(nl),n(i))})});return e.reduce(Iy)}var My=Ay;(function(t,e){e=t.exports=ph(),e.Stream=e,e.Readable=e,e.Writable=hh(),e.Duplex=Kr(),e.Transform=bh,e.PassThrough=wy,e.finished=wc,e.pipeline=My})(za,za.exports);var vh=za.exports;const{Transform:Ty}=vh;var ky=t=>class mh extends Ty{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!ne.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return ne.isBuffer(r)||(r=ne.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new mh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Oy}=vh;var Ny=t=>class wh extends Oy{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!ne.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return ne.isBuffer(r)||(r=ne.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new wh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Ly=ky,Py=Ny;var Dy=function(t){const e=Ly(t),r=Py(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},_h={};const il=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];_h.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=l^(i<<1|s>>>31),g=f^(s<<1|i>>>31);const S=t[0]^h,T=t[1]^g,x=t[10]^h,b=t[11]^g,v=t[20]^h,C=t[21]^g,R=t[30]^h,I=t[31]^g,j=t[40]^h,q=t[41]^g;h=r^(o<<1|a>>>31),g=n^(a<<1|o>>>31);const U=t[2]^h,$=t[3]^g,Z=t[12]^h,ce=t[13]^g,X=t[22]^h,P=t[23]^g,M=t[32]^h,F=t[33]^g,B=t[42]^h,m=t[43]^g;h=i^(c<<1|u>>>31),g=s^(u<<1|c>>>31);const w=t[4]^h,E=t[5]^g,A=t[14]^h,k=t[15]^g,O=t[24]^h,H=t[25]^g,G=t[34]^h,pe=t[35]^g,y=t[44]^h,_=t[45]^g;h=o^(l<<1|f>>>31),g=a^(f<<1|l>>>31);const N=t[6]^h,V=t[7]^g,Y=t[16]^h,d=t[17]^g,p=t[26]^h,L=t[27]^g,W=t[36]^h,ye=t[37]^g,te=t[46]^h,de=t[47]^g;h=c^(r<<1|n>>>31),g=u^(n<<1|r>>>31);const Ot=t[8]^h,ir=t[9]^g,Sn=t[18]^h,bi=t[19]^g,En=t[28]^h,Mr=t[29]^g,Tr=t[38]^h,kr=t[39]^g,Ht=t[48]^h,Nt=t[49]^g,vt=S,Ys=T,Ks=b<<4|x>>>28,Xs=x<<4|b>>>28,eo=v<<3|C>>>29,to=C<<3|v>>>29,ro=I<<9|R>>>23,no=R<<9|I>>>23,io=j<<18|q>>>14,so=q<<18|j>>>14,oo=U<<1|$>>>31,ao=$<<1|U>>>31,co=ce<<12|Z>>>20,uo=Z<<12|ce>>>20,lo=X<<10|P>>>22,fo=P<<10|X>>>22,ho=F<<13|M>>>19,po=M<<13|F>>>19,bo=B<<2|m>>>30,go=m<<2|B>>>30,yo=E<<30|w>>>2,vo=w<<30|E>>>2,mo=A<<6|k>>>26,wo=k<<6|A>>>26,_o=H<<11|O>>>21,So=O<<11|H>>>21,Eo=G<<15|pe>>>17,Co=pe<<15|G>>>17,xo=_<<29|y>>>3,Io=y<<29|_>>>3,Ro=N<<28|V>>>4,Ao=V<<28|N>>>4,Mo=d<<23|Y>>>9,To=Y<<23|d>>>9,ko=p<<25|L>>>7,Oo=L<<25|p>>>7,No=W<<21|ye>>>11,Lo=ye<<21|W>>>11,Po=de<<24|te>>>8,Do=te<<24|de>>>8,jo=Ot<<27|ir>>>5,$o=ir<<27|Ot>>>5,Fo=Sn<<20|bi>>>12,Bo=bi<<20|Sn>>>12,Wo=Mr<<7|En>>>25,Ho=En<<7|Mr>>>25,Vo=Tr<<8|kr>>>24,Uo=kr<<8|Tr>>>24,zo=Ht<<14|Nt>>>18,qo=Nt<<14|Ht>>>18;t[0]=vt^~co&_o,t[1]=Ys^~uo&So,t[10]=Ro^~Fo&eo,t[11]=Ao^~Bo&to,t[20]=oo^~mo&ko,t[21]=ao^~wo&Oo,t[30]=jo^~Ks&lo,t[31]=$o^~Xs&fo,t[40]=yo^~Mo&Wo,t[41]=vo^~To&Ho,t[2]=co^~_o&No,t[3]=uo^~So&Lo,t[12]=Fo^~eo&ho,t[13]=Bo^~to&po,t[22]=mo^~ko&Vo,t[23]=wo^~Oo&Uo,t[32]=Ks^~lo&Eo,t[33]=Xs^~fo&Co,t[42]=Mo^~Wo&ro,t[43]=To^~Ho&no,t[4]=_o^~No&zo,t[5]=So^~Lo&qo,t[14]=eo^~ho&xo,t[15]=to^~po&Io,t[24]=ko^~Vo&io,t[25]=Oo^~Uo&so,t[34]=lo^~Eo&Po,t[35]=fo^~Co&Do,t[44]=Wo^~ro&bo,t[45]=Ho^~no&go,t[6]=No^~zo&vt,t[7]=Lo^~qo&Ys,t[16]=ho^~xo&Ro,t[17]=po^~Io&Ao,t[26]=Vo^~io&oo,t[27]=Uo^~so&ao,t[36]=Eo^~Po&jo,t[37]=Co^~Do&$o,t[46]=ro^~bo&yo,t[47]=no^~go&vo,t[8]=zo^~vt&co,t[9]=qo^~Ys&uo,t[18]=xo^~Ro&Fo,t[19]=Io^~Ao&Bo,t[28]=io^~oo&mo,t[29]=so^~ao&wo,t[38]=Po^~jo&Ks,t[39]=Do^~$o&Xs,t[48]=bo^~yo&Mo,t[49]=go^~vo&To,t[0]^=il[e*2],t[1]^=il[e*2+1]}};const Bi=_h;function pn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}pn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};pn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Bi.p1600(this.state),this.count=0)};pn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Bi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Bi.p1600(this.state),this.count=0,this.squeezing=!0};pn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=ne.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Bi.p1600(this.state),this.count=0);return e};pn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var jy=pn,$y=Dy(jy);const Fy=$y,By=Qi;function Sh(t){return ne.allocUnsafe(t).fill(0)}function Eh(t,e,r){const n=Sh(e);return t=os(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Wy(t,e){return Eh(t,e,!0)}function os(t){if(!ne.isBuffer(t))if(Array.isArray(t))t=ne.from(t);else if(typeof t=="string")Ch(t)?t=ne.from(Uy(xh(t)),"hex"):t=ne.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=ne.allocUnsafe(0);else if(By.isBN(t))t=t.toArrayLike(ne);else if(t.toArray)t=ne.from(t.toArray());else throw new Error("invalid type");return t}function Hy(t){return t=os(t),"0x"+t.toString("hex")}function Vy(t,e){return t=os(t),e||(e=256),Fy("keccak"+e).update(t).digest()}function Uy(t){return t.length%2?"0"+t:t}function Ch(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function xh(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Ih={zeros:Sh,setLength:Eh,setLengthRight:Wy,isHexString:Ch,stripHexPrefix:xh,toBuffer:os,bufferToHex:Hy,keccak:Vy};const vr=Ih,dr=Qi;function Rh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Ur(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function sl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Ah(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function ur(t){var e=typeof t;if(e==="string")return vr.isHexString(t)?new dr(vr.stripHexPrefix(t),16):new dr(t,10);if(e==="number")return new dr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Et(t,e){var r,n,i,s;if(t==="address")return Et("uint160",ur(e));if(t==="bool")return Et("uint8",e?1:0);if(t==="string")return Et("bytes",new ne(e,"utf8"));if(qy(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Ah(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Et(t,e[s]));if(r==="dynamic"){var o=Et("uint256",e.length);i.unshift(o)}return ne.concat(i)}else{if(t==="bytes")return e=new ne(e),i=ne.concat([Et("uint256",e.length),e]),e.length%32!==0&&(i=ne.concat([i,vr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Ur(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return vr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Ur(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ur(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ne,"be",32)}else if(t.startsWith("int")){if(r=Ur(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ur(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ne,"be",32)}else if(t.startsWith("ufixed")){if(r=sl(t),n=ur(e),n<0)throw new Error("Supplied ufixed is negative");return Et("uint256",n.mul(new dr(2).pow(new dr(r[1]))))}else if(t.startsWith("fixed"))return r=sl(t),Et("int256",ur(e).mul(new dr(2).pow(new dr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function zy(t){return t==="string"||t==="bytes"||Ah(t)==="dynamic"}function qy(t){return t.lastIndexOf("]")===t.length-1}function Gy(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Rh(t[s]),a=e[s],c=Et(o,a);zy(o)?(r.push(Et("uint256",i)),n.push(c),i+=c.length):r.push(c)}return ne.concat(r.concat(n))}function Mh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Rh(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new ne(a,"utf8"));else if(o==="bool")i.push(new ne(a?"01":"00","hex"));else if(o==="address")i.push(vr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Ur(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(vr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Ur(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ur(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(ne,"be",r/8))}else if(o.startsWith("int")){if(r=Ur(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ur(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(ne,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return ne.concat(i)}function Jy(t,e){return vr.keccak(Mh(t,e))}var Qy={rawEncode:Gy,solidityPack:Mh,soliditySHA3:Jy};const ft=Ih,Ln=Qy,Th={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ha={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ft.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",ft.keccak(u)];if(c==="string")return typeof u=="string"&&(u=ne.from(u,"utf8")),["bytes32",ft.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),f=u.map(h=>o(a,l,h));return["bytes32",ft.keccak(Ln.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=ft.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=ne.from(a,"utf8")),a=ft.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=ft.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ln.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return ft.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return ft.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Th.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[ne.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),ft.keccak(ne.concat(n))}};var Zy={TYPED_MESSAGE_SCHEMA:Th,TypedDataUtils:ha,hashForSignTypedDataLegacy:function(t){return Yy(t.data)},hashForSignTypedData_v3:function(t){return ha.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ha.hash(t.data)}};function Yy(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?ft.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Ln.soliditySHA3(["bytes32","bytes32"],[Ln.soliditySHA3(new Array(t.length).fill("string"),i),Ln.soliditySHA3(n,r)])}var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.filterFromParam=Xr.FilterPolyfill=void 0;const Fr=Yn,He=J,Ky=5*60*1e3,lr={jsonrpc:"2.0",id:0};class Xy{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Fr.IntNumber)(1),this.provider=e}async newFilter(e){const r=kh(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,He.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,He.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,He.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,He.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,He.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(mi())}async getFilterLogs(e){const r=(0,He.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getLogs",params:[ol(n)]})):mi()}makeFilterId(){return(0,Fr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return mi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return wi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getLogs",params:[ol(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,He.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,Fr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return mi();const n=await this.getCurrentBlockHeight();if(r>n)return wi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,He.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Fr.IntNumber)(o))))).filter(o=>!!o),s=(0,Fr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},lr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(wi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Ky);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_blockNumber",params:[]}));return(0,He.intNumberFromHexString)((0,He.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},lr),{method:"eth_getBlockByNumber",params:[(0,He.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,He.ensureHexString)(r.result.hash):null}}Xr.FilterPolyfill=Xy;function kh(t){return{fromBlock:al(t.fromBlock),toBlock:al(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Xr.filterFromParam=kh;function ol(t){const e={fromBlock:cl(t.fromBlock),toBlock:cl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function al(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Fr.IntNumber)(0);if((0,He.isHexString)(t))return(0,He.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function cl(t){return t==="latest"?t:(0,He.hexStringFromIntNumber)(t)}function mi(){return Object.assign(Object.assign({},lr),{error:{code:-32e3,message:"filter not found"}})}function wi(){return Object.assign(Object.assign({},lr),{result:[]})}var Oh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Oh);var as={},Nh={},cs={},_c=ev;function ev(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const ul=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var tv=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):ul(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?ul(s,e):s}return n},ei={},rv=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});ei.BaseBlockTracker=void 0;const nv=rv(Sr),iv=1e3,sv=(t,e)=>t+e,ll=["sync","latest"];class ov extends nv.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*iv,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){ll.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ll.map(e=>this.listenerCount(e)).reduce(sv)}_newPotentialLatest(e){const r=this._currentBlock;r&&fl(e)<=fl(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ei.BaseBlockTracker=ov;function fl(t){return Number.parseInt(t,16)}var Lh={},Ph={},je={};class Dh extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function av(t){return ot(t)&&typeof t[Symbol.iterator]=="function"}function ot(t){return typeof t=="object"&&t!=null}function hl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ae(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function cv(t){const{done:e,value:r}=t.next();return e?void 0:r}function uv(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ae(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Ga(t,e,r,n){av(t)||(t=[t]);for(const i of t){const s=uv(i,e,r,n);s&&(yield s)}}function*Sc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&ot(e.schema)&&ot(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of e.entries(t,a)){const h=Sc(l,f,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const g of h)g[0]?(c=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):s&&(l=g[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):ot(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class xe{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Ga(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Ga(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return jh(e,this,r)}create(e,r){return $h(e,this,r)}is(e){return Ec(e,this)}mask(e,r){return Fh(e,this,r)}validate(e,r={}){return bn(e,this,r)}}function jh(t,e,r){const n=bn(t,e,{message:r});if(n[0])throw n[0]}function $h(t,e,r){const n=bn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Fh(t,e,r){const n=bn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ec(t,e){return!bn(t,e)[0]}function bn(t,e,r={}){const n=Sc(t,e,r),i=cv(n);return i[0]?[new Dh(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function lv(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?xc(n):ti(n)}function Je(t,e){return new xe({type:t,schema:null,validator:e})}function fv(t,e){return new xe({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function hv(t){return new xe({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function dv(t){let e;return new xe({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function pv(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return xc(n);default:return ti(n)}}function bv(t){const e=t instanceof xe?{...t.schema}:{...t};for(const r in e)e[r]=Bh(e[r]);return ti(e)}function gv(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return ti(n)}function yv(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Je(t,e)}function vv(){return Je("any",()=>!0)}function mv(t){return new xe({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ae(e)}`}})}function wv(){return Je("bigint",t=>typeof t=="bigint")}function _v(){return Je("boolean",t=>typeof t=="boolean")}function Sv(){return Je("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${Ae(t)}`)}function Ev(t){const e={},r=t.map(n=>Ae(n)).join();for(const n of t)e[n]=n;return new xe({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${Ae(n)}`}})}function Cv(){return Je("func",t=>typeof t=="function"||`Expected a function, but received: ${Ae(t)}`)}function xv(t){return Je("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ae(e)}`)}function Iv(){return Je("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Ae(t)}`)}function Rv(t){return new xe({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Av(t){const e=Ae(t),r=typeof t;return new xe({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Ae(n)}`}})}function Mv(t,e){return new xe({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Ae(r)}`}})}function Cc(){return Je("never",()=>!1)}function Tv(t){return new xe({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function kv(){return Je("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ae(t)}`)}function ti(t){const e=t?Object.keys(t):[],r=Cc();return new xe({type:"object",schema:t||null,*entries(n){if(t&&ot(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ot(n)||`Expected an object, but received: ${Ae(n)}`},coercer(n){return ot(n)?{...n}:n}})}function Bh(t){return new xe({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Ov(t,e){return new xe({type:"record",schema:null,*entries(r){if(ot(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return ot(r)||`Expected an object, but received: ${Ae(r)}`}})}function Nv(){return Je("regexp",t=>t instanceof RegExp)}function Lv(t){return new xe({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${Ae(e)}`}})}function Wh(){return Je("string",t=>typeof t=="string"||`Expected a string, but received: ${Ae(t)}`)}function Pv(t){const e=Cc();return new xe({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ae(r)}`}})}function xc(t){const e=Object.keys(t);return new xe({type:"type",schema:t,*entries(r){if(ot(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return ot(r)||`Expected an object, but received: ${Ae(r)}`},coercer(r){return ot(r)?{...r}:r}})}function Dv(t){const e=t.map(r=>r.type).join(" | ");return new xe({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Sc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ae(r)}`,...i]}})}function Hh(){return Je("unknown",()=>!0)}function Ic(t,e,r){return new xe({...t,coercer:(n,i)=>Ec(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function jv(t,e,r={}){return Ic(t,Hh(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&hl(n)&&hl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function $v(t){return Ic(t,Wh(),e=>e.trim())}function Fv(t){return Ir(t,"empty",e=>{const r=Vh(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Vh(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Bv(t,e,r={}){const{exclusive:n}=r;return Ir(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Wv(t,e,r={}){const{exclusive:n}=r;return Ir(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Hv(t){return Ir(t,"nonempty",e=>Vh(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Vv(t,e){return Ir(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Uv(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Ir(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Ir(t,e,r){return new xe({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Ga(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const zv=Object.freeze(Object.defineProperty({__proto__:null,Struct:xe,StructError:Dh,any:vv,array:mv,assert:jh,assign:lv,bigint:wv,boolean:_v,coerce:Ic,create:$h,date:Sv,defaulted:jv,define:Je,deprecated:fv,dynamic:hv,empty:Fv,enums:Ev,func:Cv,instance:xv,integer:Iv,intersection:Rv,is:Ec,lazy:dv,literal:Av,map:Mv,mask:Fh,max:Bv,min:Wv,never:Cc,nonempty:Hv,nullable:Tv,number:kv,object:ti,omit:pv,optional:Bh,partial:bv,pattern:Vv,pick:gv,record:Ov,refine:Ir,regexp:Nv,set:Lv,size:Uv,string:Wh,struct:yv,trimmed:$v,tuple:Pv,type:xc,union:Dv,unknown:Hh,validate:bn},Symbol.toStringTag,{value:"Module"})),Rr=un(zv);Object.defineProperty(je,"__esModule",{value:!0});je.assertExhaustive=je.assertStruct=je.assert=je.AssertionError=void 0;const qv=Rr;function Gv(t){return typeof t=="object"&&t!==null&&"message"in t}function Jv(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function Qv(t){const e=Gv(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Uh(t,e){return Jv(t)?new t({message:e}):t({message:e})}class Rc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}je.AssertionError=Rc;function Zv(t,e="Assertion failed.",r=Rc){if(!t)throw e instanceof Error?e:Uh(r,e)}je.assert=Zv;function Yv(t,e,r="Assertion failed",n=Rc){try{(0,qv.assert)(t,e)}catch(i){throw Uh(n,`${r}: ${Qv(i)}.`)}}je.assertStruct=Yv;function Kv(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}je.assertExhaustive=Kv;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.base64=void 0;const Xv=Rr,em=je,tm=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,em.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Xv.pattern)(t,a)};ri.base64=tm;var ue={},ni={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Rr,r=je;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(ni);Object.defineProperty(ue,"__esModule",{value:!0});ue.createDataView=ue.concatBytes=ue.valueToBytes=ue.stringToBytes=ue.numberToBytes=ue.signedBigIntToBytes=ue.bigIntToBytes=ue.hexToBytes=ue.bytesToString=ue.bytesToNumber=ue.bytesToSignedBigInt=ue.bytesToBigInt=ue.bytesToHex=ue.assertIsBytes=ue.isBytes=void 0;const Ze=je,Ja=ni,dl=48,pl=58,bl=87;function rm(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const nm=rm();function Ac(t){return t instanceof Uint8Array}ue.isBytes=Ac;function gn(t){(0,Ze.assert)(Ac(t),"Value must be a Uint8Array.")}ue.assertIsBytes=gn;function zh(t){if(gn(t),t.length===0)return"0x";const e=nm(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Ja.add0x)(r.join(""))}ue.bytesToHex=zh;function qh(t){gn(t);const e=zh(t);return BigInt(e)}ue.bytesToBigInt=qh;function im(t){gn(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ue.bytesToSignedBigInt=im;function sm(t){gn(t);const e=qh(t);return(0,Ze.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ue.bytesToNumber=sm;function om(t){return gn(t),new TextDecoder().decode(t)}ue.bytesToString=om;function us(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Ja.assertIsHexString)(t);const r=(0,Ja.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<pl?dl:bl),u=a-(a<pl?dl:bl);i[s]=c*16+u}return i}ue.hexToBytes=us;function Gh(t){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return us(e)}ue.bigIntToBytes=Gh;function am(t,e){(0,Ze.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function cm(t,e){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(typeof e=="number","Byte length must be a number."),(0,Ze.assert)(e>0,"Byte length must be greater than 0."),(0,Ze.assert)(am(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ue.signedBigIntToBytes=cm;function Jh(t){(0,Ze.assert)(typeof t=="number","Value must be a number."),(0,Ze.assert)(t>=0,"Value must be a non-negative number."),(0,Ze.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return us(e)}ue.numberToBytes=Jh;function Qh(t){return(0,Ze.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ue.stringToBytes=Qh;function Zh(t){if(typeof t=="bigint")return Gh(t);if(typeof t=="number")return Jh(t);if(typeof t=="string")return t.startsWith("0x")?us(t):Qh(t);if(Ac(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ue.valueToBytes=Zh;function um(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Zh(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ue.concatBytes=um;function lm(t){if(typeof ne<"u"&&t instanceof ne){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ue.createDataView=lm;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.ChecksumStruct=void 0;const gl=Rr,fm=ri;ls.ChecksumStruct=(0,gl.size)((0,fm.base64)((0,gl.string)(),{paddingRequired:!0}),44,44);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createHex=Rt.createBytes=Rt.createBigInt=Rt.createNumber=void 0;const we=Rr,hm=je,Yh=ue,fs=ni,Kh=(0,we.union)([(0,we.number)(),(0,we.bigint)(),(0,we.string)(),fs.StrictHexStruct]),dm=(0,we.coerce)((0,we.number)(),Kh,Number),pm=(0,we.coerce)((0,we.bigint)(),Kh,BigInt);(0,we.union)([fs.StrictHexStruct,(0,we.instance)(Uint8Array)]);const bm=(0,we.coerce)((0,we.instance)(Uint8Array),(0,we.union)([fs.StrictHexStruct]),Yh.hexToBytes),gm=(0,we.coerce)(fs.StrictHexStruct,(0,we.instance)(Uint8Array),Yh.bytesToHex);function ym(t){try{const e=(0,we.create)(t,dm);return(0,hm.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof we.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Rt.createNumber=ym;function vm(t){try{return(0,we.create)(t,pm)}catch(e){throw e instanceof we.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Rt.createBigInt=vm;function mm(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,we.create)(t,bm)}catch(e){throw e instanceof we.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Rt.createBytes=mm;function wm(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,we.create)(t,gm)}catch(e){throw e instanceof we.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Rt.createHex=wm;var en={},Xh=z&&z.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ve=z&&z.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ut,wt;Object.defineProperty(en,"__esModule",{value:!0});en.FrozenSet=en.FrozenMap=void 0;class Mc{constructor(e){ut.set(this,void 0),Xh(this,ut,new Map(e),"f"),Object.freeze(this)}get size(){return Ve(this,ut,"f").size}[(ut=new WeakMap,Symbol.iterator)](){return Ve(this,ut,"f")[Symbol.iterator]()}entries(){return Ve(this,ut,"f").entries()}forEach(e,r){return Ve(this,ut,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Ve(this,ut,"f").get(e)}has(e){return Ve(this,ut,"f").has(e)}keys(){return Ve(this,ut,"f").keys()}values(){return Ve(this,ut,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}en.FrozenMap=Mc;class Tc{constructor(e){wt.set(this,void 0),Xh(this,wt,new Set(e),"f"),Object.freeze(this)}get size(){return Ve(this,wt,"f").size}[(wt=new WeakMap,Symbol.iterator)](){return Ve(this,wt,"f")[Symbol.iterator]()}entries(){return Ve(this,wt,"f").entries()}forEach(e,r){return Ve(this,wt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Ve(this,wt,"f").has(e)}keys(){return Ve(this,wt,"f").keys()}values(){return Ve(this,wt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}en.FrozenSet=Tc;Object.freeze(Mc);Object.freeze(Mc.prototype);Object.freeze(Tc);Object.freeze(Tc.prototype);var ed={},kc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((h,g)=>o(g)?h+1:h+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(kc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Rr,r=je,n=kc;t.JsonStruct=(0,e.define)("Json",I=>{const[j]=R(I,!0);return j?!0:"Expected a valid JSON-serializable value"});function i(I){return(0,e.is)(I,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(I){return(0,e.is)(I,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(I,j){(0,r.assertStruct)(I,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",j)}t.assertIsJsonRpcNotification=o;function a(I){return(0,e.is)(I,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(I,j){(0,r.assertStruct)(I,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",j)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(I){return(0,e.is)(I,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(I,j){(0,r.assertStruct)(I,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",j)}t.assertIsPendingJsonRpcResponse=l;function f(I){return(0,e.is)(I,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function h(I,j){(0,r.assertStruct)(I,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",j)}t.assertIsJsonRpcResponse=h;function g(I){return(0,e.is)(I,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=g;function S(I,j){(0,r.assertStruct)(I,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",j)}t.assertIsJsonRpcSuccess=S;function T(I){return(0,e.is)(I,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=T;function x(I,j){(0,r.assertStruct)(I,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",j)}t.assertIsJsonRpcFailure=x;function b(I){return(0,e.is)(I,t.JsonRpcErrorStruct)}t.isJsonRpcError=b;function v(I,j){(0,r.assertStruct)(I,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",j)}t.assertIsJsonRpcError=v;function C(I){const{permitEmptyString:j,permitFractions:q,permitNull:U}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},I);return Z=>!!(typeof Z=="number"&&(q||Number.isInteger(Z))||typeof Z=="string"&&(j||Z.length>0)||U&&Z===null)}t.getJsonRpcIdValidator=C;function R(I,j=!1){const q=new Set;function U($,Z){if($===void 0)return[!1,0];if($===null)return[!0,Z?0:n.JsonSize.Null];const ce=typeof $;try{if(ce==="function")return[!1,0];if(ce==="string"||$ instanceof String)return[!0,Z?0:(0,n.calculateStringSize)($)+n.JsonSize.Quote*2];if(ce==="boolean"||$ instanceof Boolean)return Z?[!0,0]:[!0,$==!0?n.JsonSize.True:n.JsonSize.False];if(ce==="number"||$ instanceof Number)return Z?[!0,0]:[!0,(0,n.calculateNumberSize)($)];if($ instanceof Date)return Z?[!0,0]:[!0,isNaN($.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)($)&&!Array.isArray($))return[!1,0];if(q.has($))return[!1,0];q.add($);try{return[!0,Object.entries($).reduce((X,[P,M],F,B)=>{let[m,w]=U(M,Z);if(!m)throw new Error("JSON validation did not pass. Validation process stopped.");if(q.delete($),Z)return 0;const E=Array.isArray($)?0:P.length+n.JsonSize.Comma+n.JsonSize.Colon*2,A=F<B.length-1?n.JsonSize.Comma:0;return X+E+w+A},Z?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return U(I,j)}t.validateJsonAndGetSize=R})(ed);var tn={},Qa={exports:{}},da,yl;function _m(){if(yl)return da;yl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;da=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=n?Math.round(l/n)+"d":f>=r?Math.round(l/r)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=n?u(l,f,n,"day"):f>=r?u(l,f,r,"hour"):f>=e?u(l,f,e,"minute"):f>=t?u(l,f,t,"second"):l+" ms"}function u(l,f,h,g){var S=f>=h*1.5;return Math.round(l/h)+" "+g+(S?"s":"")}return da}function Sm(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=_m(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,g,S;function T(...x){if(!T.enabled)return;const b=T,v=Number(new Date),C=v-(f||v);b.diff=C,b.prev=f,b.curr=v,f=v,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let R=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(j,q)=>{if(j==="%%")return"%";R++;const U=r.formatters[q];if(typeof U=="function"){const $=x[R];j=U.call(b,$),x.splice(R,1),R--}return j}),r.formatArgs.call(b,x),(b.log||r.log).apply(b,x)}return T.namespace=l,T.useColors=r.useColors(),T.color=r.selectColor(l),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==r.namespaces&&(g=r.namespaces,S=r.enabled(l)),S),set:x=>{h=x}}),typeof r.init=="function"&&r.init(T),T}function n(l,f){const h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f;const h=(typeof l=="string"?l:"").split(/[\s,]+/),g=h.length;for(f=0;f<g;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Em=Sm;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(l++,h==="%c"&&(f=l))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof fe<"u"&&"env"in fe&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=Em(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Qa,Qa.exports);var Cm=Qa.exports,xm=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.createModuleLogger=tn.createProjectLogger=void 0;const Im=xm(Cm),Rm=(0,Im.default)("metamask");function Am(t){return Rm.extend(t)}tn.createProjectLogger=Am;function Mm(t,e){return t.extend(e)}tn.createModuleLogger=Mm;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.hexToBigInt=At.hexToNumber=At.bigIntToHex=At.numberToHex=void 0;const zr=je,Bn=ni,Tm=t=>((0,zr.assert)(typeof t=="number","Value must be a number."),(0,zr.assert)(t>=0,"Value must be a non-negative number."),(0,zr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Bn.add0x)(t.toString(16)));At.numberToHex=Tm;const km=t=>((0,zr.assert)(typeof t=="bigint","Value must be a bigint."),(0,zr.assert)(t>=0,"Value must be a non-negative bigint."),(0,Bn.add0x)(t.toString(16)));At.bigIntToHex=km;const Om=t=>{(0,Bn.assertIsHexString)(t);const e=parseInt(t,16);return(0,zr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};At.hexToNumber=Om;const Nm=t=>((0,Bn.assertIsHexString)(t),BigInt((0,Bn.add0x)(t)));At.hexToBigInt=Nm;var td={};Object.defineProperty(td,"__esModule",{value:!0});var rd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(rd);var nd={},Za={exports:{}};const Lm="2.0.0",Pm=256,Dm=Number.MAX_SAFE_INTEGER||9007199254740991,jm=16,$m=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var hs={MAX_LENGTH:Pm,MAX_SAFE_COMPONENT_LENGTH:jm,MAX_SAFE_INTEGER:Dm,RELEASE_TYPES:$m,SEMVER_SPEC_VERSION:Lm,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Fm=typeof fe=="object"&&fe.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ds=Fm;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=hs,n=ds;e=t.exports={};const i=e.re=[],s=e.safeRe=[],o=e.src=[],a=e.t={};let c=0;const u=(l,f,h)=>{const g=f.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),S=c++;n(l,S,f),a[l]=S,o[S]=f,i[S]=new RegExp(f,h?"g":void 0),s[S]=new RegExp(g,h?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),u("FULL",`^${o[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),u("LOOSE",`^${o[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),u("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",o[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",u("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",u("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Za,Za.exports);var ii=Za.exports;const Bm=Object.freeze({loose:!0}),Wm=Object.freeze({}),Hm=t=>t?typeof t!="object"?Bm:t:Wm;var Oc=Hm;const vl=/^[0-9]+$/,id=(t,e)=>{const r=vl.test(t),n=vl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Vm=(t,e)=>id(e,t);var sd={compareIdentifiers:id,rcompareIdentifiers:Vm};const _i=ds,{MAX_LENGTH:ml,MAX_SAFE_INTEGER:Si}=hs,{safeRe:wl,t:_l}=ii,Um=Oc,{compareIdentifiers:Nr}=sd;let zm=class St{constructor(e,r){if(r=Um(r),e instanceof St){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ml)throw new TypeError(`version is longer than ${ml} characters`);_i("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?wl[_l.LOOSE]:wl[_l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Si||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Si||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Si||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Si)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_i("SemVer.compare",this.version,this.options,e),!(e instanceof St)){if(typeof e=="string"&&e===this.version)return 0;e=new St(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof St||(e=new St(e,this.options)),Nr(this.major,e.major)||Nr(this.minor,e.minor)||Nr(this.patch,e.patch)}comparePre(e){if(e instanceof St||(e=new St(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(_i("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Nr(n,i)}while(++r)}compareBuild(e){e instanceof St||(e=new St(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(_i("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Nr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Nr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var qe=zm;const Sl=qe,qm=(t,e,r=!1)=>{if(t instanceof Sl)return t;try{return new Sl(t,e)}catch(n){if(!r)return null;throw n}};var yn=qm;const Gm=yn,Jm=(t,e)=>{const r=Gm(t,e);return r?r.version:null};var Qm=Jm;const Zm=yn,Ym=(t,e)=>{const r=Zm(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Km=Ym;const El=qe,Xm=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new El(t instanceof El?t.version:t,r).inc(e,n,i).version}catch{return null}};var e1=Xm;const Cl=yn,t1=(t,e)=>{const r=Cl(t,null,!0),n=Cl(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var r1=t1;const n1=qe,i1=(t,e)=>new n1(t,e).major;var s1=i1;const o1=qe,a1=(t,e)=>new o1(t,e).minor;var c1=a1;const u1=qe,l1=(t,e)=>new u1(t,e).patch;var f1=l1;const h1=yn,d1=(t,e)=>{const r=h1(t,e);return r&&r.prerelease.length?r.prerelease:null};var p1=d1;const xl=qe,b1=(t,e,r)=>new xl(t,r).compare(new xl(e,r));var gt=b1;const g1=gt,y1=(t,e,r)=>g1(e,t,r);var v1=y1;const m1=gt,w1=(t,e)=>m1(t,e,!0);var _1=w1;const Il=qe,S1=(t,e,r)=>{const n=new Il(t,r),i=new Il(e,r);return n.compare(i)||n.compareBuild(i)};var Nc=S1;const E1=Nc,C1=(t,e)=>t.sort((r,n)=>E1(r,n,e));var x1=C1;const I1=Nc,R1=(t,e)=>t.sort((r,n)=>I1(n,r,e));var A1=R1;const M1=gt,T1=(t,e,r)=>M1(t,e,r)>0;var ps=T1;const k1=gt,O1=(t,e,r)=>k1(t,e,r)<0;var Lc=O1;const N1=gt,L1=(t,e,r)=>N1(t,e,r)===0;var od=L1;const P1=gt,D1=(t,e,r)=>P1(t,e,r)!==0;var ad=D1;const j1=gt,$1=(t,e,r)=>j1(t,e,r)>=0;var Pc=$1;const F1=gt,B1=(t,e,r)=>F1(t,e,r)<=0;var Dc=B1;const W1=od,H1=ad,V1=ps,U1=Pc,z1=Lc,q1=Dc,G1=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return W1(t,r,n);case"!=":return H1(t,r,n);case">":return V1(t,r,n);case">=":return U1(t,r,n);case"<":return z1(t,r,n);case"<=":return q1(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var cd=G1;const J1=qe,Q1=yn,{safeRe:Ei,t:Ci}=ii,Z1=(t,e)=>{if(t instanceof J1)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ei[Ci.COERCE]);else{let n;for(;(n=Ei[Ci.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ei[Ci.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ei[Ci.COERCERTL].lastIndex=-1}return r===null?null:Q1(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Y1=Z1,pa,Rl;function K1(){return Rl||(Rl=1,pa=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),pa}var X1=le;le.Node=mr;le.create=le;function le(t){var e=this;if(e instanceof le||(e=new le),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}le.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};le.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};le.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};le.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)tw(this,arguments[t]);return this.length};le.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)rw(this,arguments[t]);return this.length};le.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};le.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};le.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};le.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};le.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};le.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};le.prototype.map=function(t,e){e=e||this;for(var r=new le,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};le.prototype.mapReverse=function(t,e){e=e||this;for(var r=new le,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};le.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};le.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};le.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};le.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};le.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new le;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};le.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new le;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};le.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=ew(this,i,r[n]);return s};le.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function ew(t,e,r){var n=e===t.head?new mr(r,null,e,t):new mr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function tw(t,e){t.tail=new mr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function rw(t,e){t.head=new mr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function mr(t,e,r,n){if(!(this instanceof mr))return new mr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{K1()(le)}catch{}const nw=X1,fr=Symbol("max"),jt=Symbol("length"),Lr=Symbol("lengthCalculator"),Pn=Symbol("allowStale"),pr=Symbol("maxAge"),Lt=Symbol("dispose"),Al=Symbol("noDisposeOnSet"),ke=Symbol("lruList"),ht=Symbol("cache"),ud=Symbol("updateAgeOnGet"),ba=()=>1;class iw{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[fr]=e.max||1/0;const r=e.length||ba;if(this[Lr]=typeof r!="function"?ba:r,this[Pn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[pr]=e.maxAge||0,this[Lt]=e.dispose,this[Al]=e.noDisposeOnSet||!1,this[ud]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[fr]=e||1/0,In(this)}get max(){return this[fr]}set allowStale(e){this[Pn]=!!e}get allowStale(){return this[Pn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[pr]=e,In(this)}get maxAge(){return this[pr]}set lengthCalculator(e){typeof e!="function"&&(e=ba),e!==this[Lr]&&(this[Lr]=e,this[jt]=0,this[ke].forEach(r=>{r.length=this[Lr](r.value,r.key),this[jt]+=r.length})),In(this)}get lengthCalculator(){return this[Lr]}get length(){return this[jt]}get itemCount(){return this[ke].length}rforEach(e,r){r=r||this;for(let n=this[ke].tail;n!==null;){const i=n.prev;Ml(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ke].head;n!==null;){const i=n.next;Ml(this,e,n,r),n=i}}keys(){return this[ke].toArray().map(e=>e.key)}values(){return this[ke].toArray().map(e=>e.value)}reset(){this[Lt]&&this[ke]&&this[ke].length&&this[ke].forEach(e=>this[Lt](e.key,e.value)),this[ht]=new Map,this[ke]=new nw,this[jt]=0}dump(){return this[ke].map(e=>Wi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ke]}set(e,r,n){if(n=n||this[pr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Lr](r,e);if(this[ht].has(e)){if(s>this[fr])return qr(this,this[ht].get(e)),!1;const c=this[ht].get(e).value;return this[Lt]&&(this[Al]||this[Lt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[jt]+=s-c.length,c.length=s,this.get(e),In(this),!0}const o=new sw(e,r,s,i,n);return o.length>this[fr]?(this[Lt]&&this[Lt](e,r),!1):(this[jt]+=o.length,this[ke].unshift(o),this[ht].set(e,this[ke].head),In(this),!0)}has(e){if(!this[ht].has(e))return!1;const r=this[ht].get(e).value;return!Wi(this,r)}get(e){return ga(this,e,!0)}peek(e){return ga(this,e,!1)}pop(){const e=this[ke].tail;return e?(qr(this,e),e.value):null}del(e){qr(this,this[ht].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[ht].forEach((e,r)=>ga(this,r,!1))}}const ga=(t,e,r)=>{const n=t[ht].get(e);if(n){const i=n.value;if(Wi(t,i)){if(qr(t,n),!t[Pn])return}else r&&(t[ud]&&(n.value.now=Date.now()),t[ke].unshiftNode(n));return i.value}},Wi=(t,e)=>{if(!e||!e.maxAge&&!t[pr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[pr]&&r>t[pr]},In=t=>{if(t[jt]>t[fr])for(let e=t[ke].tail;t[jt]>t[fr]&&e!==null;){const r=e.prev;qr(t,e),e=r}},qr=(t,e)=>{if(e){const r=e.value;t[Lt]&&t[Lt](r.key,r.value),t[jt]-=r.length,t[ht].delete(r.key),t[ke].removeNode(e)}};class sw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Ml=(t,e,r,n)=>{let i=r.value;Wi(t,i)&&(qr(t,r),t[Pn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var ow=iw,ya,Tl;function yt(){if(Tl)return ya;Tl=1;class t{constructor(M,F){if(F=n(F),M instanceof t)return M.loose===!!F.loose&&M.includePrerelease===!!F.includePrerelease?M:new t(M.raw,F);if(M instanceof i)return this.raw=M.value,this.set=[[M]],this.format(),this;if(this.options=F,this.loose=!!F.loose,this.includePrerelease=!!F.includePrerelease,this.raw=M.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(B=>this.parseRange(B)).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(m=>!S(m[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const m of this.set)if(m.length===1&&T(m[0])){this.set=[m];break}}}this.format()}format(){return this.range=this.set.map(M=>M.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(M){const B=((this.options.includePrerelease&&h)|(this.options.loose&&g))+":"+M,m=r.get(B);if(m)return m;const w=this.options.loose,E=w?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];M=M.replace(E,ce(this.options.includePrerelease)),s("hyphen replace",M),M=M.replace(a[c.COMPARATORTRIM],u),s("comparator trim",M),M=M.replace(a[c.TILDETRIM],l),M=M.replace(a[c.CARETTRIM],f);let A=M.split(" ").map(G=>b(G,this.options)).join(" ").split(/\s+/).map(G=>Z(G,this.options));w&&(A=A.filter(G=>(s("loose invalid filter",G,this.options),!!G.match(a[c.COMPARATORLOOSE])))),s("range list",A);const k=new Map,O=A.map(G=>new i(G,this.options));for(const G of O){if(S(G))return[G];k.set(G.value,G)}k.size>1&&k.has("")&&k.delete("");const H=[...k.values()];return r.set(B,H),H}intersects(M,F){if(!(M instanceof t))throw new TypeError("a Range is required");return this.set.some(B=>x(B,F)&&M.set.some(m=>x(m,F)&&B.every(w=>m.every(E=>w.intersects(E,F)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new o(M,this.options)}catch{return!1}for(let F=0;F<this.set.length;F++)if(X(this.set[F],M,this.options))return!0;return!1}}ya=t;const e=ow,r=new e({max:1e3}),n=Oc,i=bs(),s=ds,o=qe,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:f}=ii,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:g}=hs,S=P=>P.value==="<0.0.0-0",T=P=>P.value==="",x=(P,M)=>{let F=!0;const B=P.slice();let m=B.pop();for(;F&&B.length;)F=B.every(w=>m.intersects(w,M)),m=B.pop();return F},b=(P,M)=>(s("comp",P,M),P=I(P,M),s("caret",P),P=C(P,M),s("tildes",P),P=q(P,M),s("xrange",P),P=$(P,M),s("stars",P),P),v=P=>!P||P.toLowerCase()==="x"||P==="*",C=(P,M)=>P.trim().split(/\s+/).map(F=>R(F,M)).join(" "),R=(P,M)=>{const F=M.loose?a[c.TILDELOOSE]:a[c.TILDE];return P.replace(F,(B,m,w,E,A)=>{s("tilde",P,B,m,w,E,A);let k;return v(m)?k="":v(w)?k=`>=${m}.0.0 <${+m+1}.0.0-0`:v(E)?k=`>=${m}.${w}.0 <${m}.${+w+1}.0-0`:A?(s("replaceTilde pr",A),k=`>=${m}.${w}.${E}-${A} <${m}.${+w+1}.0-0`):k=`>=${m}.${w}.${E} <${m}.${+w+1}.0-0`,s("tilde return",k),k})},I=(P,M)=>P.trim().split(/\s+/).map(F=>j(F,M)).join(" "),j=(P,M)=>{s("caret",P,M);const F=M.loose?a[c.CARETLOOSE]:a[c.CARET],B=M.includePrerelease?"-0":"";return P.replace(F,(m,w,E,A,k)=>{s("caret",P,m,w,E,A,k);let O;return v(w)?O="":v(E)?O=`>=${w}.0.0${B} <${+w+1}.0.0-0`:v(A)?w==="0"?O=`>=${w}.${E}.0${B} <${w}.${+E+1}.0-0`:O=`>=${w}.${E}.0${B} <${+w+1}.0.0-0`:k?(s("replaceCaret pr",k),w==="0"?E==="0"?O=`>=${w}.${E}.${A}-${k} <${w}.${E}.${+A+1}-0`:O=`>=${w}.${E}.${A}-${k} <${w}.${+E+1}.0-0`:O=`>=${w}.${E}.${A}-${k} <${+w+1}.0.0-0`):(s("no pr"),w==="0"?E==="0"?O=`>=${w}.${E}.${A}${B} <${w}.${E}.${+A+1}-0`:O=`>=${w}.${E}.${A}${B} <${w}.${+E+1}.0-0`:O=`>=${w}.${E}.${A} <${+w+1}.0.0-0`),s("caret return",O),O})},q=(P,M)=>(s("replaceXRanges",P,M),P.split(/\s+/).map(F=>U(F,M)).join(" ")),U=(P,M)=>{P=P.trim();const F=M.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return P.replace(F,(B,m,w,E,A,k)=>{s("xRange",P,B,m,w,E,A,k);const O=v(w),H=O||v(E),G=H||v(A),pe=G;return m==="="&&pe&&(m=""),k=M.includePrerelease?"-0":"",O?m===">"||m==="<"?B="<0.0.0-0":B="*":m&&pe?(H&&(E=0),A=0,m===">"?(m=">=",H?(w=+w+1,E=0,A=0):(E=+E+1,A=0)):m==="<="&&(m="<",H?w=+w+1:E=+E+1),m==="<"&&(k="-0"),B=`${m+w}.${E}.${A}${k}`):H?B=`>=${w}.0.0${k} <${+w+1}.0.0-0`:G&&(B=`>=${w}.${E}.0${k} <${w}.${+E+1}.0-0`),s("xRange return",B),B})},$=(P,M)=>(s("replaceStars",P,M),P.trim().replace(a[c.STAR],"")),Z=(P,M)=>(s("replaceGTE0",P,M),P.trim().replace(a[M.includePrerelease?c.GTE0PRE:c.GTE0],"")),ce=P=>(M,F,B,m,w,E,A,k,O,H,G,pe,y)=>(v(B)?F="":v(m)?F=`>=${B}.0.0${P?"-0":""}`:v(w)?F=`>=${B}.${m}.0${P?"-0":""}`:E?F=`>=${F}`:F=`>=${F}${P?"-0":""}`,v(O)?k="":v(H)?k=`<${+O+1}.0.0-0`:v(G)?k=`<${O}.${+H+1}.0-0`:pe?k=`<=${O}.${H}.${G}-${pe}`:P?k=`<${O}.${H}.${+G+1}-0`:k=`<=${k}`,`${F} ${k}`.trim()),X=(P,M,F)=>{for(let B=0;B<P.length;B++)if(!P[B].test(M))return!1;if(M.prerelease.length&&!F.includePrerelease){for(let B=0;B<P.length;B++)if(s(P[B].semver),P[B].semver!==i.ANY&&P[B].semver.prerelease.length>0){const m=P[B].semver;if(m.major===M.major&&m.minor===M.minor&&m.patch===M.patch)return!0}return!1}return!0};return ya}var va,kl;function bs(){if(kl)return va;kl=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,f){if(f=r(f),l instanceof e){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=l.match(f);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,f).test(l.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}va=e;const r=Oc,{safeRe:n,t:i}=ii,s=cd,o=ds,a=qe,c=yt();return va}const aw=yt(),cw=(t,e,r)=>{try{e=new aw(e,r)}catch{return!1}return e.test(t)};var gs=cw;const uw=yt(),lw=(t,e)=>new uw(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var fw=lw;const hw=qe,dw=yt(),pw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new dw(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new hw(n,r))}),n};var bw=pw;const gw=qe,yw=yt(),vw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new yw(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new gw(n,r))}),n};var mw=vw;const ma=qe,ww=yt(),Ol=ps,_w=(t,e)=>{t=new ww(t,e);let r=new ma("0.0.0");if(t.test(r)||(r=new ma("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new ma(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Ol(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ol(r,s))&&(r=s)}return r&&t.test(r)?r:null};var Sw=_w;const Ew=yt(),Cw=(t,e)=>{try{return new Ew(t,e).range||"*"}catch{return null}};var xw=Cw;const Iw=qe,ld=bs(),{ANY:Rw}=ld,Aw=yt(),Mw=gs,Nl=ps,Ll=Lc,Tw=Dc,kw=Pc,Ow=(t,e,r,n)=>{t=new Iw(t,n),e=new Aw(e,n);let i,s,o,a,c;switch(r){case">":i=Nl,s=Tw,o=Ll,a=">",c=">=";break;case"<":i=Ll,s=kw,o=Nl,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Mw(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let f=null,h=null;if(l.forEach(g=>{g.semver===Rw&&(g=new ld(">=0.0.0")),f=f||g,h=h||g,i(g.semver,f.semver,n)?f=g:o(g.semver,h.semver,n)&&(h=g)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};var jc=Ow;const Nw=jc,Lw=(t,e,r)=>Nw(t,e,">",r);var Pw=Lw;const Dw=jc,jw=(t,e,r)=>Dw(t,e,"<",r);var $w=jw;const Pl=yt(),Fw=(t,e,r)=>(t=new Pl(t,r),e=new Pl(e,r),t.intersects(e,r));var Bw=Fw;const Ww=gs,Hw=gt;var Vw=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,f)=>Hw(l,f,r));for(const l of o)Ww(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const Dl=yt(),$c=bs(),{ANY:wa}=$c,Rn=gs,Fc=gt,Uw=(t,e,r={})=>{if(t===e)return!0;t=new Dl(t,r),e=new Dl(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=qw(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},zw=[new $c(">=0.0.0-0")],jl=[new $c(">=0.0.0")],qw=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===wa){if(e.length===1&&e[0].semver===wa)return!0;r.includePrerelease?t=zw:t=jl}if(e.length===1&&e[0].semver===wa){if(r.includePrerelease)return!0;e=jl}const n=new Set;let i,s;for(const g of t)g.operator===">"||g.operator===">="?i=$l(i,g,r):g.operator==="<"||g.operator==="<="?s=Fl(s,g,r):n.add(g.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Fc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const g of n){if(i&&!Rn(g,String(i),r)||s&&!Rn(g,String(s),r))return null;for(const S of e)if(!Rn(g,String(S),r))return!1;return!0}let a,c,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const g of e){if(l=l||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",i){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator===">"||g.operator===">="){if(a=$l(i,g,r),a===g&&a!==i)return!1}else if(i.operator===">="&&!Rn(i.semver,String(g),r))return!1}if(s){if(f&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===f.major&&g.semver.minor===f.minor&&g.semver.patch===f.patch&&(f=!1),g.operator==="<"||g.operator==="<="){if(c=Fl(s,g,r),c===g&&c!==s)return!1}else if(s.operator==="<="&&!Rn(s.semver,String(g),r))return!1}if(!g.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||h||f)},$l=(t,e,r)=>{if(!t)return e;const n=Fc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Fl=(t,e,r)=>{if(!t)return e;const n=Fc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Gw=Uw;const _a=ii,Bl=hs,Jw=qe,Wl=sd,Qw=yn,Zw=Qm,Yw=Km,Kw=e1,Xw=r1,e_=s1,t_=c1,r_=f1,n_=p1,i_=gt,s_=v1,o_=_1,a_=Nc,c_=x1,u_=A1,l_=ps,f_=Lc,h_=od,d_=ad,p_=Pc,b_=Dc,g_=cd,y_=Y1,v_=bs(),m_=yt(),w_=gs,__=fw,S_=bw,E_=mw,C_=Sw,x_=xw,I_=jc,R_=Pw,A_=$w,M_=Bw,T_=Vw,k_=Gw;var O_={parse:Qw,valid:Zw,clean:Yw,inc:Kw,diff:Xw,major:e_,minor:t_,patch:r_,prerelease:n_,compare:i_,rcompare:s_,compareLoose:o_,compareBuild:a_,sort:c_,rsort:u_,gt:l_,lt:f_,eq:h_,neq:d_,gte:p_,lte:b_,cmp:g_,coerce:y_,Comparator:v_,Range:m_,satisfies:w_,toComparators:__,maxSatisfying:S_,minSatisfying:E_,minVersion:C_,validRange:x_,outside:I_,gtr:R_,ltr:A_,intersects:M_,simplifyRange:T_,subset:k_,SemVer:Jw,re:_a.re,src:_a.src,tokens:_a.t,SEMVER_SPEC_VERSION:Bl.SEMVER_SPEC_VERSION,RELEASE_TYPES:Bl.RELEASE_TYPES,compareIdentifiers:Wl.compareIdentifiers,rcompareIdentifiers:Wl.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=O_,r=Rr,n=je;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,r.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,r.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,n.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,n.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,h){return(0,e.gt)(f,h)}t.gtVersion=c;function u(f,h){return(0,e.gtr)(f,h)}t.gtRange=u;function l(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=l})(nd);(function(t){var e=z&&z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=z&&z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(je,t),r(ri,t),r(ue,t),r(ls,t),r(Rt,t),r(en,t),r(ni,t),r(ed,t),r(tn,t),r(kc,t),r(At,t),r(td,t),r(rd,t),r(nd,t)})(Ph);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Ph;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Lh);var fd=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.PollingBlockTracker=void 0;const N_=fd(_c),L_=fd(tv),P_=ei,Hl=Lh,Vl=(0,Hl.createModuleLogger)(Hl.projectLogger,"polling-block-tracker"),D_=(0,N_.default)(),j_=1e3;class $_ extends P_.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*j_,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Ul(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Ul(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:D_(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Vl("Making request",e);const r=await(0,L_.default)(n=>this._provider.sendAsync(e,n))();if(Vl("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}cs.PollingBlockTracker=$_;function Ul(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var ys={},F_=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.SubscribeBlockTracker=void 0;const B_=F_(_c),W_=ei,H_=(0,B_.default)();class V_ extends W_.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:H_(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ys.SubscribeBlockTracker=V_;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});(function(t){var e=z&&z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=z&&z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cs,t),r(ys,t),r(hd,t)})(Nh);var Bc={},vs={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.getUniqueId=void 0;const dd=4294967295;let Sa=Math.floor(Math.random()*dd);function U_(){return Sa=(Sa+1)%dd,Sa}si.getUniqueId=U_;Object.defineProperty(vs,"__esModule",{value:!0});vs.createIdRemapMiddleware=void 0;const z_=si;function q_(){return(t,e,r,n)=>{const i=t.id,s=z_.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}vs.createIdRemapMiddleware=q_;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.createAsyncMiddleware=void 0;function G_(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}ms.createAsyncMiddleware=G_;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.createScaffoldMiddleware=void 0;function J_(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}ws.createScaffoldMiddleware=J_;var oi={},Q_=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});oi.JsonRpcEngine=void 0;const Z_=Q_(Sr),et=ac;class Pt extends Z_.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Pt._runAllMiddleware(e,r,this._middleware);return o?(await Pt._runReturnHandlers(a),i(s)):n(async c=>{try{await Pt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new et.EthereumRpcError(et.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new et.EthereumRpcError(et.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=et.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Pt._runAllMiddleware(e,r,this._middleware);if(Pt._checkForCompletion(e,r,i),await Pt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Pt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=et.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new et.EthereumRpcError(et.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ea(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new et.EthereumRpcError(et.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ea(e)}`,{request:e});if(!n)throw new et.EthereumRpcError(et.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ea(e)}`,{request:e})}}oi.JsonRpcEngine=Pt;function Ea(t){return JSON.stringify(t,null,2)}var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.mergeMiddleware=void 0;const Y_=oi;function K_(t){const e=new Y_.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}_s.mergeMiddleware=K_;(function(t){var e=z&&z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=z&&z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vs,t),r(ms,t),r(ws,t),r(si,t),r(oi,t),r(_s,t)})(Bc);var pd={},Wc={},bd={exports:{}};(function(t){var e,r,n,i,s,o,a,c,u,l,f,h,g,S,T,x,b,v,C,R,I,j,q,U,$,Z,ce,X,P;(function(M){var F=typeof z=="object"?z:typeof self=="object"?self:typeof this=="object"?this:{};M(B(F,B(t.exports)));function B(m,w){return m!==F&&(typeof Object.create=="function"?Object.defineProperty(m,"__esModule",{value:!0}):m.__esModule=!0),function(E,A){return m[E]=w?w(E,A):A}}})(function(M){var F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(m[E]=w[E])};e=function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");F(m,w);function E(){this.constructor=m}m.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)},r=Object.assign||function(m){for(var w,E=1,A=arguments.length;E<A;E++){w=arguments[E];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(m[k]=w[k])}return m},n=function(m,w){var E={};for(var A in m)Object.prototype.hasOwnProperty.call(m,A)&&w.indexOf(A)<0&&(E[A]=m[A]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,A=Object.getOwnPropertySymbols(m);k<A.length;k++)w.indexOf(A[k])<0&&Object.prototype.propertyIsEnumerable.call(m,A[k])&&(E[A[k]]=m[A[k]]);return E},i=function(m,w,E,A){var k=arguments.length,O=k<3?w:A===null?A=Object.getOwnPropertyDescriptor(w,E):A,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(m,w,E,A);else for(var G=m.length-1;G>=0;G--)(H=m[G])&&(O=(k<3?H(O):k>3?H(w,E,O):H(w,E))||O);return k>3&&O&&Object.defineProperty(w,E,O),O},s=function(m,w){return function(E,A){w(E,A,m)}},o=function(m,w,E,A,k,O){function H(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var G=A.kind,pe=G==="getter"?"get":G==="setter"?"set":"value",y=!w&&m?A.static?m:m.prototype:null,_=w||(y?Object.getOwnPropertyDescriptor(y,A.name):{}),N,V=!1,Y=E.length-1;Y>=0;Y--){var d={};for(var p in A)d[p]=p==="access"?{}:A[p];for(var p in A.access)d.access[p]=A.access[p];d.addInitializer=function(W){if(V)throw new TypeError("Cannot add initializers after decoration has completed");O.push(H(W||null))};var L=(0,E[Y])(G==="accessor"?{get:_.get,set:_.set}:_[pe],d);if(G==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(N=H(L.get))&&(_.get=N),(N=H(L.set))&&(_.set=N),(N=H(L.init))&&k.unshift(N)}else(N=H(L))&&(G==="field"?k.unshift(N):_[pe]=N)}y&&Object.defineProperty(y,A.name,_),V=!0},a=function(m,w,E){for(var A=arguments.length>2,k=0;k<w.length;k++)E=A?w[k].call(m,E):w[k].call(m);return A?E:void 0},c=function(m){return typeof m=="symbol"?m:"".concat(m)},u=function(m,w,E){return typeof w=="symbol"&&(w=w.description?"[".concat(w.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:E?"".concat(E," ",w):w})},l=function(m,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,w)},f=function(m,w,E,A){function k(O){return O instanceof E?O:new E(function(H){H(O)})}return new(E||(E=Promise))(function(O,H){function G(_){try{y(A.next(_))}catch(N){H(N)}}function pe(_){try{y(A.throw(_))}catch(N){H(N)}}function y(_){_.done?O(_.value):k(_.value).then(G,pe)}y((A=A.apply(m,w||[])).next())})},h=function(m,w){var E={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},A,k,O,H;return H={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function G(y){return function(_){return pe([y,_])}}function pe(y){if(A)throw new TypeError("Generator is already executing.");for(;H&&(H=0,y[0]&&(E=0)),E;)try{if(A=1,k&&(O=y[0]&2?k.return:y[0]?k.throw||((O=k.return)&&O.call(k),0):k.next)&&!(O=O.call(k,y[1])).done)return O;switch(k=0,O&&(y=[y[0]&2,O.value]),y[0]){case 0:case 1:O=y;break;case 4:return E.label++,{value:y[1],done:!1};case 5:E.label++,k=y[1],y=[0];continue;case 7:y=E.ops.pop(),E.trys.pop();continue;default:if(O=E.trys,!(O=O.length>0&&O[O.length-1])&&(y[0]===6||y[0]===2)){E=0;continue}if(y[0]===3&&(!O||y[1]>O[0]&&y[1]<O[3])){E.label=y[1];break}if(y[0]===6&&E.label<O[1]){E.label=O[1],O=y;break}if(O&&E.label<O[2]){E.label=O[2],E.ops.push(y);break}O[2]&&E.ops.pop(),E.trys.pop();continue}y=w.call(m,E)}catch(_){y=[6,_],k=0}finally{A=O=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},g=function(m,w){for(var E in m)E!=="default"&&!Object.prototype.hasOwnProperty.call(w,E)&&P(w,m,E)},P=Object.create?function(m,w,E,A){A===void 0&&(A=E);var k=Object.getOwnPropertyDescriptor(w,E);(!k||("get"in k?!w.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(m,A,k)}:function(m,w,E,A){A===void 0&&(A=E),m[A]=w[E]},S=function(m){var w=typeof Symbol=="function"&&Symbol.iterator,E=w&&m[w],A=0;if(E)return E.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&A>=m.length&&(m=void 0),{value:m&&m[A++],done:!m}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(m,w){var E=typeof Symbol=="function"&&m[Symbol.iterator];if(!E)return m;var A=E.call(m),k,O=[],H;try{for(;(w===void 0||w-- >0)&&!(k=A.next()).done;)O.push(k.value)}catch(G){H={error:G}}finally{try{k&&!k.done&&(E=A.return)&&E.call(A)}finally{if(H)throw H.error}}return O},x=function(){for(var m=[],w=0;w<arguments.length;w++)m=m.concat(T(arguments[w]));return m},b=function(){for(var m=0,w=0,E=arguments.length;w<E;w++)m+=arguments[w].length;for(var A=Array(m),k=0,w=0;w<E;w++)for(var O=arguments[w],H=0,G=O.length;H<G;H++,k++)A[k]=O[H];return A},v=function(m,w,E){if(E||arguments.length===2)for(var A=0,k=w.length,O;A<k;A++)(O||!(A in w))&&(O||(O=Array.prototype.slice.call(w,0,A)),O[A]=w[A]);return m.concat(O||Array.prototype.slice.call(w))},C=function(m){return this instanceof C?(this.v=m,this):new C(m)},R=function(m,w,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=E.apply(m,w||[]),k,O=[];return k={},H("next"),H("throw"),H("return"),k[Symbol.asyncIterator]=function(){return this},k;function H(V){A[V]&&(k[V]=function(Y){return new Promise(function(d,p){O.push([V,Y,d,p])>1||G(V,Y)})})}function G(V,Y){try{pe(A[V](Y))}catch(d){N(O[0][3],d)}}function pe(V){V.value instanceof C?Promise.resolve(V.value.v).then(y,_):N(O[0][2],V)}function y(V){G("next",V)}function _(V){G("throw",V)}function N(V,Y){V(Y),O.shift(),O.length&&G(O[0][0],O[0][1])}},I=function(m){var w,E;return w={},A("next"),A("throw",function(k){throw k}),A("return"),w[Symbol.iterator]=function(){return this},w;function A(k,O){w[k]=m[k]?function(H){return(E=!E)?{value:C(m[k](H)),done:!1}:O?O(H):H}:O}},j=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=m[Symbol.asyncIterator],E;return w?w.call(m):(m=typeof S=="function"?S(m):m[Symbol.iterator](),E={},A("next"),A("throw"),A("return"),E[Symbol.asyncIterator]=function(){return this},E);function A(O){E[O]=m[O]&&function(H){return new Promise(function(G,pe){H=m[O](H),k(G,pe,H.done,H.value)})}}function k(O,H,G,pe){Promise.resolve(pe).then(function(y){O({value:y,done:G})},H)}},q=function(m,w){return Object.defineProperty?Object.defineProperty(m,"raw",{value:w}):m.raw=w,m};var B=Object.create?function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}:function(m,w){m.default=w};U=function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var E in m)E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)&&P(w,m,E);return B(w,m),w},$=function(m){return m&&m.__esModule?m:{default:m}},Z=function(m,w,E,A){if(E==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof w=="function"?m!==w||!A:!w.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?A:E==="a"?A.call(m):A?A.value:w.get(m)},ce=function(m,w,E,A,k){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof w=="function"?m!==w||!k:!w.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?k.call(m,E):k?k.value=E:w.set(m,E),E},X=function(m,w){if(w===null||typeof w!="object"&&typeof w!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?w===m:m.has(w)},M("__extends",e),M("__assign",r),M("__rest",n),M("__decorate",i),M("__param",s),M("__esDecorate",o),M("__runInitializers",a),M("__propKey",c),M("__setFunctionName",u),M("__metadata",l),M("__awaiter",f),M("__generator",h),M("__exportStar",g),M("__createBinding",P),M("__values",S),M("__read",T),M("__spread",x),M("__spreadArrays",b),M("__spreadArray",v),M("__await",C),M("__asyncGenerator",R),M("__asyncDelegator",I),M("__asyncValues",j),M("__makeTemplateObject",q),M("__importStar",U),M("__importDefault",$),M("__classPrivateFieldGet",Z),M("__classPrivateFieldSet",ce),M("__classPrivateFieldIn",X)})})(bd);var Hc=bd.exports,Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});var zl=Hc,X_=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return zl.__awaiter(this,void 0,void 0,function(){var r,n,i;return zl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ss.default=X_;Object.defineProperty(Wc,"__esModule",{value:!0});var ql=Hc,eS=Ss,tS=function(){function t(){this._semaphore=new eS.default(1)}return t.prototype.acquire=function(){return ql.__awaiter(this,void 0,void 0,function(){var e,r;return ql.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Wc.default=tS;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.withTimeout=void 0;var xi=Hc;function rS(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return xi.__awaiter(n,void 0,void 0,function(){var o,a,c;return xi.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return xi.__awaiter(this,void 0,void 0,function(){var s,o;return xi.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Es.withTimeout=rS;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Wc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ss;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Es;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(pd);var nS=sS,iS=Object.prototype.hasOwnProperty;function sS(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)iS.call(r,n)&&(t[n]=r[n])}return t}const oS=nS,aS=_c();var cS=ee;function ee(t){const e=this;e.currentProvider=t}ee.prototype.getBalance=ai(2,"eth_getBalance");ee.prototype.getCode=ai(2,"eth_getCode");ee.prototype.getTransactionCount=ai(2,"eth_getTransactionCount");ee.prototype.getStorageAt=ai(3,"eth_getStorageAt");ee.prototype.call=ai(2,"eth_call");ee.prototype.protocolVersion=se("eth_protocolVersion");ee.prototype.syncing=se("eth_syncing");ee.prototype.coinbase=se("eth_coinbase");ee.prototype.mining=se("eth_mining");ee.prototype.hashrate=se("eth_hashrate");ee.prototype.gasPrice=se("eth_gasPrice");ee.prototype.accounts=se("eth_accounts");ee.prototype.blockNumber=se("eth_blockNumber");ee.prototype.getBlockTransactionCountByHash=se("eth_getBlockTransactionCountByHash");ee.prototype.getBlockTransactionCountByNumber=se("eth_getBlockTransactionCountByNumber");ee.prototype.getUncleCountByBlockHash=se("eth_getUncleCountByBlockHash");ee.prototype.getUncleCountByBlockNumber=se("eth_getUncleCountByBlockNumber");ee.prototype.sign=se("eth_sign");ee.prototype.sendTransaction=se("eth_sendTransaction");ee.prototype.sendRawTransaction=se("eth_sendRawTransaction");ee.prototype.estimateGas=se("eth_estimateGas");ee.prototype.getBlockByHash=se("eth_getBlockByHash");ee.prototype.getBlockByNumber=se("eth_getBlockByNumber");ee.prototype.getTransactionByHash=se("eth_getTransactionByHash");ee.prototype.getTransactionByBlockHashAndIndex=se("eth_getTransactionByBlockHashAndIndex");ee.prototype.getTransactionByBlockNumberAndIndex=se("eth_getTransactionByBlockNumberAndIndex");ee.prototype.getTransactionReceipt=se("eth_getTransactionReceipt");ee.prototype.getUncleByBlockHashAndIndex=se("eth_getUncleByBlockHashAndIndex");ee.prototype.getUncleByBlockNumberAndIndex=se("eth_getUncleByBlockNumberAndIndex");ee.prototype.getCompilers=se("eth_getCompilers");ee.prototype.compileLLL=se("eth_compileLLL");ee.prototype.compileSolidity=se("eth_compileSolidity");ee.prototype.compileSerpent=se("eth_compileSerpent");ee.prototype.newFilter=se("eth_newFilter");ee.prototype.newBlockFilter=se("eth_newBlockFilter");ee.prototype.newPendingTransactionFilter=se("eth_newPendingTransactionFilter");ee.prototype.uninstallFilter=se("eth_uninstallFilter");ee.prototype.getFilterChanges=se("eth_getFilterChanges");ee.prototype.getFilterLogs=se("eth_getFilterLogs");ee.prototype.getLogs=se("eth_getLogs");ee.prototype.getWork=se("eth_getWork");ee.prototype.submitWork=se("eth_submitWork");ee.prototype.submitHashrate=se("eth_submitHashrate");ee.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(uS(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function se(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ai(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function uS(t){return oS({id:aS(),jsonrpc:"2.0",params:[]},t)}const Gl=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Jl=new WeakMap;var lS=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Jl.get(o);if(c||(c={},Jl.set(o,c)),a in c)return c[a];const u=S=>typeof S=="string"||typeof a=="symbol"?a===S:S.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,g=(e.include?e.include.some(u):!e.exclude.some(u))&&f;return c[a]=g,g},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Gl(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Gl(c,e,s,o);return i.set(c,l),l}return c}});return s};const fS=Sr.default;let hS=class extends fS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Vc=hS;const dS=Vc;let pS=class extends dS{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var bS=pS,ci={minBlockRef:gS,maxBlockRef:yS,sortBlockRefs:Uc,bnToHex:vS,blockRefIsNumber:mS,hexToInt:Hi,incrementHexInt:wS,intToHex:gd,unsafeRandomBytes:_S};function gS(...t){return Uc(t)[0]}function yS(...t){const e=Uc(t);return e[e.length-1]}function Uc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Hi(e)-Hi(r))}function vS(t){return"0x"+t.toString(16)}function mS(t){return t&&!["earliest","latest","pending"].includes(t)}function Hi(t){return t==null?t:Number.parseInt(t,16)}function wS(t){if(t==null)return t;const e=Hi(t);return gd(e+1)}function gd(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function _S(t){let e="0x";for(let r=0;r<t;r++)e+=Ql(),e+=Ql();return e}function Ql(){return Math.floor(Math.random()*16).toString(16)}const SS=cS,ES=lS,CS=bS,{bnToHex:$I,hexToInt:Ii,incrementHexInt:xS,minBlockRef:IS,blockRefIsNumber:RS}=ci;let AS=class extends CS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new SS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=IS(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=xS(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await ES(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ii(this.params.fromBlock)>=Ii(e.blockNumber)||RS(this.params.toBlock)&&Ii(this.params.toBlock)<=Ii(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var MS=AS,zc=TS;async function TS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Zl(e),s=Zl(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(kS);return await Promise.all(o.map(c=>NS(t,"eth_getBlockByNumber",[c,!1])))}function Zl(t){return t==null?t:Number.parseInt(t,16)}function kS(t){return t==null?t:"0x"+t.toString(16)}function OS(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function NS(t,e,r){for(let n=0;n<3;n++)try{return await OS(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const LS=Vc,PS=zc,{incrementHexInt:DS}=ci;let jS=class extends LS{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=DS(e),o=(await PS({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var $S=jS;const FS=Vc,BS=zc,{incrementHexInt:WS}=ci;let HS=class extends FS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=WS(e),i=await BS({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var VS=HS;const US=pd.Mutex,{createAsyncMiddleware:zS,createScaffoldMiddleware:qS}=Bc,GS=MS,JS=$S,QS=VS,{intToHex:yd,hexToInt:Ca}=ci;var ZS=YS;function YS({blockTracker:t,provider:e}){let r=0,n={};const i=new US,s=KS({mutex:i}),o=qS({eth_newFilter:s(xa(c)),eth_newBlockFilter:s(xa(u)),eth_newPendingTransactionFilter:s(xa(l)),eth_uninstallFilter:s(Ni(g)),eth_getFilterChanges:s(Ni(f)),eth_getFilterLogs:s(Ni(h))}),a=async({oldBlock:v,newBlock:C})=>{if(n.length===0)return;const R=await i.acquire();try{await Promise.all(Pr(n).map(async I=>{try{await I.update({oldBlock:v,newBlock:C})}catch(j){console.error(j)}}))}catch(I){console.error(I)}R()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=g,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{x()},o;async function c(v){const C=new GS({provider:e,params:v});return await S(C),C}async function u(){const v=new JS({provider:e});return await S(v),v}async function l(){const v=new QS({provider:e});return await S(v),v}async function f(v){const C=Ca(v),R=n[C];if(!R)throw new Error(`No filter for index "${C}"`);return R.getChangesAndClear()}async function h(v){const C=Ca(v),R=n[C];if(!R)throw new Error(`No filter for index "${C}"`);let I=[];return R.type==="log"&&(I=R.getAllResults()),I}async function g(v){const C=Ca(v),I=!!n[C];return I&&await T(C),I}async function S(v){const C=Pr(n).length,R=await t.getLatestBlock();await v.initialize({currentBlock:R}),r++,n[r]=v,v.id=r,v.idHex=yd(r);const I=Pr(n).length;return b({prevFilterCount:C,newFilterCount:I}),r}async function T(v){const C=Pr(n).length;delete n[v];const R=Pr(n).length;b({prevFilterCount:C,newFilterCount:R})}async function x(){const v=Pr(n).length;n={},b({prevFilterCount:v,newFilterCount:0})}function b({prevFilterCount:v,newFilterCount:C}){if(v===0&&C>0){t.on("sync",a);return}if(v>0&&C===0){t.removeListener("sync",a);return}}}function xa(t){return Ni(async(...e)=>{const r=await t(...e);return yd(r.id)})}function Ni(t){return zS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function KS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Pr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const XS=Sr.default,{createAsyncMiddleware:Yl,createScaffoldMiddleware:e2}=Bc,t2=ZS,{unsafeRandomBytes:r2,incrementHexInt:n2}=ci,i2=zc;var s2=o2;function o2({blockTracker:t,provider:e}){const r={},n=t2({blockTracker:t,provider:e});let i=!1;const s=new XS,o=e2({eth_subscribe:Yl(a),eth_unsubscribe:Yl(c)});return o.destroy=l,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=f.params[0],S=r2(16);let T;switch(g){case"newHeads":T=x({subId:S});break;case"logs":const v=f.params[1],C=await n.newLogFilter(v);T=b({subId:S,filter:C});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${g}"`)}r[S]=T,h.result=S;return;function x({subId:v}){const C={type:g,destroy:async()=>{t.removeListener("sync",C.update)},update:async({oldBlock:R,newBlock:I})=>{const j=I,q=n2(R);(await i2({provider:e,fromBlock:q,toBlock:j})).map(a2).filter(Z=>Z!==null).forEach(Z=>{u(v,Z)})}};return t.on("sync",C.update),C}function b({subId:v,filter:C}){return C.on("update",I=>u(v,I)),{type:g,destroy:async()=>await n.uninstallFilter(C.idHex)}}}async function c(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=f.params[0],S=r[g];if(!S){h.result=!1;return}delete r[g],await S.destroy(),h.result=!0}function u(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function l(){s.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];i=!0}}function a2(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(as,"__esModule",{value:!0});as.SubscriptionManager=void 0;const c2=Nh,u2=s2,Kl=()=>{};class l2{constructor(e){const r=new c2.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=u2({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Kl,Kl),r}destroy(){this.subscriptionMiddleware.destroy()}}as.SubscriptionManager=l2;var qc=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CoinbaseWalletProvider=void 0;const f2=qc(Sr),h2=qc(Qi),Ia=ln,be=Un,Xl=fn,ef=pt,Ra=Xi,d2=ge,re=J,Aa=qc(Zy),p2=Xr,he=Oh,b2=as,tf="DefaultChainId",rf="DefaultJsonRpcUrl";class g2 extends f2.default{constructor(e){var r,n;super(),this._filterPolyfill=new p2.FilterPolyfill(this),this._subscriptionManager=new b2.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,re.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ef.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,re.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,re.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(rf))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(rf,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(tf,r.toString(10)),((0,re.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,re.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,d2.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===be.standardErrorCodes.provider.unsupportedChain?be.standardErrors.provider.unsupportedChain(e):be.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ia.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Xl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(he.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,be.serializeError)(i,e)})}catch(n){throw(0,be.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,be.serializeError)(n,e)})}catch(n){return Promise.reject((0,be.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,be.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,be.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw be.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw be.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw be.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,re.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,be.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Ra.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,be.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Ra.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,be.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Ra.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,re.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ef.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_accounts:return this._eth_accounts();case he.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case he.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case he.JSONRPCMethod.net_version:return this._net_version();case he.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case he.JSONRPCMethod.eth_sign:return this._eth_sign(n);case he.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case he.JSONRPCMethod.personal_sign:return this._personal_sign(n);case he.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case he.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case he.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case he.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case he.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case he.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case he.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case he.JSONRPCMethod.eth_signTypedData_v4:case he.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case he.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case he.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case he.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case he.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case he.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case he.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case he.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case he.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case he.JSONRPCMethod.eth_subscribe:case he.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,re.ensureAddressString)(e);return this._addresses.map(i=>(0,re.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ia.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,re.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,re.ensureAddressString)(e.to):null,i=e.value!=null?(0,re.ensureBN)(e.value):new h2.default(0),s=e.data?(0,re.ensureBuffer)(e.data):ne.alloc(0),o=e.nonce!=null?(0,re.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,re.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,re.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,re.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,re.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw be.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw be.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?be.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,re.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(tf);if(!e)return(0,re.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,re.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ia.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Xl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?be.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?be.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,re.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?be.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,re.ensureParsedJSONObject)(e[0]),n=(0,re.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Aa.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Aa.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Aa.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw be.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw be.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw be.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw be.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw be.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw be.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Jr.CoinbaseWalletProvider=g2;var Cs={},xs={};const Ke=un(Sp);function rn(t){return typeof t=="function"}var nf=!1,rt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}nf=t},get useDeprecatedSynchronousErrorHandling(){return nf}};function Br(t){setTimeout(function(){throw t},0)}var Vi={closed:!0,next:function(t){},error:function(t){if(rt.useDeprecatedSynchronousErrorHandling)throw t;Br(t)},complete:function(){}},Ue=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Gc(t){return t!==null&&typeof t=="object"}var y2=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Dn=y2,_e=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(rn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof Dn?sf(f.errors):[f]}}if(Ue(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(Gc(l))try{l.unsubscribe()}catch(h){e=e||[],h instanceof Dn?e=e.concat(sf(h.errors)):e.push(h)}}if(e)throw new Dn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function sf(t){return t.reduce(function(e,r){return e.concat(r instanceof Dn?r.errors:r)},[])}var Ui=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Q=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Vi;break;case 1:if(!r){s.destination=Vi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new of(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new of(s,r,n,i);break}return s}return e.prototype[Ui]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(_e),of=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return rn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Vi&&(c=Object.create(n),rn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=rt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Br(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Br(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),rt.useDeprecatedSynchronousErrorHandling)throw i;Br(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!rt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return rt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Br(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Q);function Jc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Q?t=n:t=null}return!0}function v2(t,e,r){if(t){if(t instanceof Q)return t;if(t[Ui])return t[Ui]()}return!t&&!e&&!r?new Q(Vi):new Q(t,e,r)}var vn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Xt(t){return t}function Ya(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vd(t)}function vd(t){return t.length===0?Xt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ie=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=v2(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||rt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),rt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){rt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Jc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=af(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[vn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:vd(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=af(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function af(t){if(t||(t=rt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var m2=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Jt=m2,md=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_e),wd=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Q),Le=function(t){D(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Ui]=function(){return new wd(this)},e.prototype.lift=function(r){var n=new cf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Jt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Jt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Jt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Jt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Jt;return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.isStopped?(r.complete(),_e.EMPTY):(this.observers.push(r),new md(this,r))},e.prototype.asObservable=function(){var r=new ie;return r.source=this,r},e.create=function(r,n){return new cf(r,n)},e}(ie),cf=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):_e.EMPTY},e}(Le);function Qc(){return function(e){return e.lift(new w2(e))}}var w2=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new _2(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),_2=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Q),_d=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new _e,r.add(this.source.subscribe(new E2(this.getSubject(),this))),r.closed&&(this._connection=null,r=_e.EMPTY)),r},e.prototype.refCount=function(){return Qc()(this)},e}(ie),S2=function(){var t=_d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),E2=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(wd);function C2(t,e,r,n){return function(i){return i.lift(new x2(t,e,r,n))}}var x2=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new I2(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),I2=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Le,i.set(n,s);var a=new Ka(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ka(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new R2(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Q),R2=function(t){D(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Q),Ka=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new _e,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new A2(s)),n.add(o.subscribe(r)),n},e}(ie),A2=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(_e),Sd=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Jt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Le),M2=function(t){D(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(_e),ui=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(M2),T2=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ui),Xa=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),li=function(t){D(e,t);function e(r,n){n===void 0&&(n=Xa.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Xa),k2=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(li),Ed=new k2(T2),Cd=Ed,nn=new ie(function(t){return t.complete()});function mn(t){return t?O2(t):nn}function O2(t){return new ie(function(e){return t.schedule(function(){return e.complete()})})}function Ye(t){return t&&typeof t.schedule=="function"}var xd=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Zc(t,e){return new ie(function(r){var n=new _e,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function fi(t,e){return e?Zc(t,e):new ie(xd(t))}function Is(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ye(r)?(t.pop(),Zc(t,r)):fi(t)}function Yc(t,e){return e?new ie(function(r){return e.schedule(N2,0,{error:t,subscriber:r})}):new ie(function(r){return r.error(t)})}function N2(t){var e=t.error,r=t.subscriber;r.error(e)}var ec;ec||(ec={});var $t=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Is(this.value);case"E":return Yc(this.error);case"C":return mn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function L2(t,e){return e===void 0&&(e=0),function(n){return n.lift(new P2(t,e))}}var P2=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Id(e,this.scheduler,this.delay))},t}(),Id=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new D2(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage($t.createNext(r))},e.prototype._error=function(r){this.scheduleMessage($t.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage($t.createComplete()),this.unsubscribe()},e}(Q),D2=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Kc=function(t){D(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new j2(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Jt;if(this.isStopped||this.hasError?a=_e.EMPTY:(this.observers.push(r),a=new md(this,r)),s&&r.add(r=new Id(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Cd).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Le),j2=function(){function t(e,r){this.time=e,this.value=r}return t}(),wn=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),_e.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Le),$2=1,F2=function(){return Promise.resolve()}(),tc={};function uf(t){return t in tc?(delete tc[t],!0):!1}var lf={setImmediate:function(t){var e=$2++;return tc[e]=!0,F2.then(function(){return uf(e)&&t()}),e},clearImmediate:function(t){uf(t)}},B2=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=lf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(lf.clearImmediate(n),r.scheduled=void 0)},e}(ui),W2=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(li),Rd=new W2(B2),Li=Rd,Ad=new li(ui),ze=Ad,H2=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(ui),V2=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(li),Md=new V2(H2),U2=Md,z2=function(t){D(e,t);function e(r,n){r===void 0&&(r=Td),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(li),Td=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ui);function Ct(){}function q2(t){return!!t&&(t instanceof ie||typeof t.lift=="function"&&typeof t.subscribe=="function")}var G2=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),sn=G2,J2=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),hi=J2,Q2=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),kd=Q2;function ct(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Z2(t,e))}}var Z2=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Y2(e,this.project,this.thisArg))},t}(),Y2=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q);function Od(t,e,r){if(e)if(Ye(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Od(t,r).apply(void 0,n).pipe(ct(function(s){return Ue(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ie(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(K2,0,l)}else{if(!o){o=new wn;var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,n.concat([u]))}catch(f){Jc(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function K2(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.length<=1?l[0]:l;e.add(a.schedule(X2,0,{value:h,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function X2(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Nd(t,e,r){if(e)if(Ye(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Nd(t,r).apply(void 0,n).pipe(ct(function(s){return Ue(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ie(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(eE,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h){c.error(h);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){Jc(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function eE(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new wn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h)e.add(a.schedule(ff,0,{err:h,subject:c}));else{var g=l.length<=1?l[0]:l;e.add(a.schedule(tE,0,{value:g,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(ff,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function tE(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function ff(t){var e=t.err,r=t.subject;r.error(e)}var Ar=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Q),rE=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Q),nE=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Br),e}};function iE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var er=iE(),sE=function(t){return function(e){var r=t[er]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},oE=function(t){return function(e){var r=t[vn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Ld=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Pd(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Wn=function(t){if(t&&typeof t[vn]=="function")return oE(t);if(Ld(t))return xd(t);if(Pd(t))return nE(t);if(t&&typeof t[er]=="function")return sE(t);var e=Gc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Bt(t,e,r,n,i){if(i===void 0&&(i=new rE(t,r,n)),!i.closed)return e instanceof ie?e.subscribe(i):Wn(e)(i)}var hf={};function aE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ye(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ue(t[0])&&(t=t[0]),fi(t,n).lift(new Xc(r))}var Xc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new cE(e,this.resultSelector))},t}(),cE=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(hf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Bt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===hf?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Ar);function uE(t,e){return new ie(function(r){var n=new _e;return n.add(e.schedule(function(){var i=t[vn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function lE(t,e){return new ie(function(r){var n=new _e;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function fE(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(function(r){var n=new _e,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[er](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function hE(t){return t&&typeof t[vn]=="function"}function dE(t){return t&&typeof t[er]=="function"}function Dd(t,e){if(t!=null){if(hE(t))return uE(t,e);if(Pd(t))return lE(t,e);if(Ld(t))return Zc(t,e);if(dE(t)||typeof t=="string")return fE(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Wt(t,e){return e?Dd(t,e):t instanceof ie?t:new ie(Wn(t))}var Se=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Q),Ee=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Q);function Ce(t,e){if(!e.closed){if(t instanceof ie)return t.subscribe(e);var r;try{r=Wn(t)(e)}catch(n){e.error(n)}return r}}function wr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(wr(function(i,s){return Wt(t(i,s)).pipe(ct(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new pE(t,r))})}var pE=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new bE(e,this.project,this.concurrent))},t}(),bE=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=Ce(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Ee),gE=wr;function eu(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),wr(Xt,t)}function jd(){return eu(1)}function Hn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return jd()(Is.apply(void 0,t))}function tu(t){return new ie(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Wt(r):mn();return n.subscribe(e)})}function yE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ue(r))return Ri(r,null);if(Gc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ri(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ue(t[0])?t[0]:t,Ri(t,null).pipe(ct(function(s){return i.apply(void 0,s)}))}return Ri(t,null)}function Ri(t,e){return new ie(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Wt(t[u]),f=!1;r.add(l.subscribe({next:function(h){f||(f=!0,o++),i[u]=h},error:function(h){return r.error(h)},complete:function(){s++,(s===n||!f)&&(o===n&&r.next(e?e.reduce(function(h,g,S){return h[g]=i[S],h},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function $d(t,e,r,n){return rn(r)&&(n=r,r=void 0),n?$d(t,e,r).pipe(ct(function(i){return Ue(i)?n.apply(void 0,i):n(i)})):new ie(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Fd(t,e,s,i,r)})}function Fd(t,e,r,n,i){var s;if(wE(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(mE(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(vE(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Fd(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function vE(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function mE(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function wE(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Bd(t,e,r){return r?Bd(t,e).pipe(ct(function(n){return Ue(n)?r.apply(void 0,n):r(n)})):new ie(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(rn(e))return function(){return e(i,s)}})}function _E(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Xt,i=a.scheduler}else n===void 0||Ye(n)?(o=t,s=Xt,i=n):(o=t,s=n);return new ie(function(c){var u=o;if(i)return i.schedule(SE,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(h){c.error(h);return}if(!l){c.complete();break}}var f=void 0;try{f=s(u)}catch(h){c.error(h);return}if(c.next(f),c.closed)break;try{u=r(u)}catch(h){c.error(h);return}}while(!0)})}function SE(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function EE(t,e,r){return e===void 0&&(e=nn),r===void 0&&(r=nn),tu(function(){return t()?e:r})}function on(t){return!Ue(t)&&t-parseFloat(t)+1>=0}function CE(t,e){return t===void 0&&(t=0),e===void 0&&(e=ze),(!on(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=ze),new ie(function(r){return r.add(e.schedule(xE,t,{subscriber:r,counter:0,period:t})),r})}function xE(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Wd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ye(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ie?t[0]:eu(r)(fi(t,n))}var Hd=new ie(Ct);function IE(){return Hd}function rc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return nn;var r=t[0],n=t.slice(1);return t.length===1&&Ue(r)?rc.apply(void 0,r):new ie(function(i){var s=function(){return i.add(rc.apply(void 0,n).subscribe(i))};return Wt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function RE(t,e){return e?new ie(function(r){var n=Object.keys(t),i=new _e;return i.add(e.schedule(AE,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ie(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function AE(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Vd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function tr(t,e){return function(n){return n.lift(new ME(t,e))}}var ME=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new TE(e,this.predicate,this.thisArg))},t}(),TE=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Q);function kE(t,e,r){return[tr(e,r)(new ie(Wn(t))),tr(Vd(e,r))(new ie(Wn(t)))]}function Ud(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ue(t[0]))t=t[0];else return t[0];return fi(t,void 0).lift(new OE)}var OE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new NE(e))},t}(),NE=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Bt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Ar);function LE(t,e,r){return t===void 0&&(t=0),new ie(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(PE,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function PE(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function zd(t,e,r){t===void 0&&(t=0);var n=-1;return on(e)?n=Number(e)<1&&1||Number(e):Ye(e)&&(r=e),Ye(r)||(r=ze),new ie(function(i){var s=on(t)?t:+t-r.now();return r.schedule(DE,s,{index:0,period:n,subscriber:i})})}function DE(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function jE(t,e){return new ie(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Wt(i):nn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function qd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),fi(t,void 0).lift(new Gd(r))}var Gd=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $E(e,this.resultSelector))},t}(),$E=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ue(r)?n.push(new BE(r)):typeof r[er]=="function"?n.push(new FE(r[er]())):n.push(new WE(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q),FE=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),BE=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[er]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),WE=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[er]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Ce(this.observable,new Se(this))},e}(Ee);const HE=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:sn,AsyncSubject:wn,BehaviorSubject:Sd,ConnectableObservable:_d,EMPTY:nn,EmptyError:hi,GroupedObservable:Ka,NEVER:Hd,Notification:$t,get NotificationKind(){return ec},ObjectUnsubscribedError:Jt,Observable:ie,ReplaySubject:Kc,Scheduler:Xa,Subject:Le,Subscriber:Q,Subscription:_e,TimeoutError:kd,UnsubscriptionError:Dn,VirtualAction:Td,VirtualTimeScheduler:z2,animationFrame:U2,animationFrameScheduler:Md,asap:Li,asapScheduler:Rd,async:ze,asyncScheduler:Ad,bindCallback:Od,bindNodeCallback:Nd,combineLatest:aE,concat:Hn,config:rt,defer:tu,empty:mn,forkJoin:yE,from:Wt,fromEvent:$d,fromEventPattern:Bd,generate:_E,identity:Xt,iif:EE,interval:CE,isObservable:q2,merge:Wd,never:IE,noop:Ct,observable:vn,of:Is,onErrorResumeNext:rc,pairs:RE,partition:kE,pipe:Ya,queue:Cd,queueScheduler:Ed,race:Ud,range:LE,scheduled:Dd,throwError:Yc,timer:zd,using:jE,zip:qd},Symbol.toStringTag,{value:"Module"})),Rs=un(HE);var As={};const Ms=un(wp),di=un(Ep);var Mt={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.CloseIcon=void 0;const df=Ke;function VE(t){return(0,df.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,df.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ts.CloseIcon=VE;var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.QRCodeIcon=void 0;const _t=Ke;function UE(t){return(0,_t.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,_t.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,_t.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,_t.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,_t.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,_t.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,_t.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,_t.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,_t.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,_t.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ks.QRCodeIcon=UE;var iu={};Object.defineProperty(iu,"__esModule",{value:!0});const zE=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;iu.default=zE;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.StatusDotIcon=void 0;const pf=Ke;function qE(t){return(0,pf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,pf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Os.StatusDotIcon=qE;var Ns={};function Jd(t){this.mode=Qe.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Jd.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Tt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Tt.prototype={addData:function(t){var e=new Jd(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Tt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=me.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=me.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=me.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=me.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=me.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Tt.PAD0=236;Tt.PAD1=17;Tt.createData=function(t,e,r){for(var n=It.getRSBlocks(t,e),i=new Qd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),me.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Tt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Tt.PAD1,8);return Tt.createBytes(i,n)};Tt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var f=me.getErrorCorrectPolynomial(u),h=new Gr(s[a],f.getLength()-1),g=h.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var S=l+g.getLength()-o[a].length;o[a][l]=S>=0?g.get(S):0}}for(var T=0,l=0;l<e.length;l++)T+=e[l].totalCount;for(var x=new Array(T),b=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(x[b++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(x[b++]=o[a][l]);return x};var Qe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Zt={L:1,M:0,Q:3,H:2},Vt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},me={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;me.getBCHDigit(e)-me.getBCHDigit(me.G15)>=0;)e^=me.G15<<me.getBCHDigit(e)-me.getBCHDigit(me.G15);return(t<<10|e)^me.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;me.getBCHDigit(e)-me.getBCHDigit(me.G18)>=0;)e^=me.G18<<me.getBCHDigit(e)-me.getBCHDigit(me.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return me.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Vt.PATTERN000:return(e+r)%2==0;case Vt.PATTERN001:return e%2==0;case Vt.PATTERN010:return r%3==0;case Vt.PATTERN011:return(e+r)%3==0;case Vt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Vt.PATTERN101:return e*r%2+e*r%3==0;case Vt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Vt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Gr([1],0),r=0;r<t;r++)e=e.multiply(new Gr([1,Ne.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Qe.MODE_NUMBER:return 10;case Qe.MODE_ALPHA_NUM:return 9;case Qe.MODE_8BIT_BYTE:return 8;case Qe.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Qe.MODE_NUMBER:return 12;case Qe.MODE_ALPHA_NUM:return 11;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Qe.MODE_NUMBER:return 14;case Qe.MODE_ALPHA_NUM:return 13;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return r+=f*10,r}},Ne={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ne.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ne.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var De=0;De<8;De++)Ne.EXP_TABLE[De]=1<<De;for(var De=8;De<256;De++)Ne.EXP_TABLE[De]=Ne.EXP_TABLE[De-4]^Ne.EXP_TABLE[De-5]^Ne.EXP_TABLE[De-6]^Ne.EXP_TABLE[De-8];for(var De=0;De<255;De++)Ne.LOG_TABLE[Ne.EXP_TABLE[De]]=De;function Gr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Gr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ne.gexp(Ne.glog(this.get(r))+Ne.glog(t.get(n)));return new Gr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ne.glog(this.get(0))-Ne.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ne.gexp(Ne.glog(t.get(n))+e);return new Gr(r,0).mod(t)}};function It(t,e){this.totalCount=t,this.dataCount=e}It.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];It.getRSBlocks=function(t,e){var r=It.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new It(a,c));return i};It.getRsBlockTable=function(t,e){switch(e){case Zt.L:return It.RS_BLOCK_TABLE[(t-1)*4+0];case Zt.M:return It.RS_BLOCK_TABLE[(t-1)*4+1];case Zt.Q:return It.RS_BLOCK_TABLE[(t-1)*4+2];case Zt.H:return It.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Qd(){this.buffer=[],this.length=0}Qd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ma=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Zd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),f=1,h=0,g=0,S=Ma.length;g<=S;g++){var T=Ma[g];if(!T)throw new Error("Content too long: expected "+h+" but got "+l);switch(u){case"L":h=T[0];break;case"M":h=T[1];break;case"Q":h=T[2];break;case"H":h=T[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=h)break;f++}if(f>Ma.length)throw new Error("Content too long");return f}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Tt(o,a),this.qrcode.addData(s),this.qrcode.make()}Zd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,g=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,S=typeof e.predefined<"u"?!!e.predefined:!1,T=S?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",x=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,b="",v="",C=0;C<c;C++)for(var R=0;R<c;R++){var I=r[R][C];if(I){var j=R*u+e.padding*u,q=C*l+e.padding*l;if(h){var U=j;j=q,q=U}if(f){var $=u+j,Z=l+q;j=Number.isInteger(j)?Number(j):j.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),$=Number.isInteger($)?Number($):$.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),v+="M"+j+","+q+" V"+Z+" H"+$+" V"+q+" H"+j+" Z "}else S?b+=i+'<use x="'+j.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:b+=i+'<rect x="'+j.toString()+'" y="'+q.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(b=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const P=o*this.options.image.width/100,M=a*this.options.image.height/100,F=o/2-P/2,B=a/2-M/2;ce+=`<svg x="${F}" y="${B}" width="${P}" height="${M}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+s,ce+="</svg>"}var X="";switch(t.container){case"svg":g&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,X+=T+x+b,X+=ce,X+="</svg>";break;case"svg-viewbox":g&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,X+=T+x+b,X+=ce,X+="</svg>";break;case"g":X+='<g width="'+o+'" height="'+a+'">'+s,X+=T+x+b,X+=ce,X+="</g>";break;default:X+=(T+x+b+ce).replace(/^\s+/,"");break}return X};var GE=Zd,JE=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.QRCode=void 0;const QE=Ke,bf=di,ZE=JE(GE),YE=t=>{const[e,r]=(0,bf.useState)("");return(0,bf.useEffect)(()=>{var n,i;const s=new ZE.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=ne.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,QE.h)("img",{src:e,alt:"QR Code"}):null};Ns.QRCode=YE;var Ls={},ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var KE=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Spinner=void 0;const Ai=Ke,XE=KE(ou),e3=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ai.h)("div",{class:"-cbwsdk-spinner"},(0,Ai.h)("style",null,XE.default),(0,Ai.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ai.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ls.Spinner=e3;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var _n=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CoinbaseAppSteps=Mt.CoinbaseWalletSteps=Mt.ConnectItem=Mt.ConnectContent=void 0;const it=_n(Ms),K=Ke,gf=di,t3=J,r3=zn,n3=Ts,i3=_n(ru),s3=_n(nu),Yd=ks,o3=_n(iu),a3=_n(su),c3=Os,u3=Ns,l3=Ls,f3=_n(au),yf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:s3.default,steps:Xd},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:i3.default,steps:ep}},h3=t=>{switch(t){case"coinbase-app":return o3.default;case"coinbase-wallet-app":default:return a3.default}},nc=t=>t==="light"?"#FFFFFF":"#0A0B0D";function d3(t){const{theme:e}=t,[r,n]=(0,gf.useState)("coinbase-wallet-app"),i=(0,gf.useCallback)(u=>{n(u)},[]),s=(0,t3.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=yf[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,K.h)("div",{"data-testid":"connect-content",class:(0,it.default)("-cbwsdk-connect-content",e)},(0,K.h)("style",null,f3.default),(0,K.h)("div",{class:"-cbwsdk-connect-content-header"},(0,K.h)("h2",{class:(0,it.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,K.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,K.h)(n3.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,K.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,K.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,K.h)("div",null,Object.entries(yf).map(([u,l])=>(0,K.h)(Kd,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,K.h)("div",{class:(0,it.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,K.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,K.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,K.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,K.h)(u3.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:h3(r),width:25,height:25}}),(0,K.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:r3.LIB_VERSION}),(0,K.h)("input",{type:"hidden",value:s})),(0,K.h)(a,{theme:e}),!t.isConnected&&(0,K.h)("div",{"data-testid":"connecting-spinner",class:(0,it.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,K.h)(l3.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,K.h)("p",null,"Connecting...")))))}Mt.ConnectContent=d3;function Kd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,K.h)("div",{onClick:s,class:(0,it.default)("-cbwsdk-connect-item",i,{selected:n})},(0,K.h)("div",null,(0,K.h)("img",{src:r,alt:t})),(0,K.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,K.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,K.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Mt.ConnectItem=Kd;function Xd({theme:t}){return(0,K.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,K.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,K.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,K.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,K.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,K.h)("span",null,"Tap ",(0,K.h)("strong",null,"Scan")," "),(0,K.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,K.h)(Yd.QRCodeIcon,{fill:nc(t)})))))}Mt.CoinbaseWalletSteps=Xd;function ep({theme:t}){return(0,K.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,K.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,K.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,K.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,K.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,K.h)("span",null,"Tap ",(0,K.h)("strong",null,"More")),(0,K.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,K.h)(c3.StatusDotIcon,{fill:nc(t)})),(0,K.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,K.h)("strong",null,"Scan")),(0,K.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,K.h)(Yd.QRCodeIcon,{fill:nc(t)})))))}Mt.CoinbaseAppSteps=ep;var Ps={},Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ArrowLeftIcon=void 0;const vf=Ke;function p3(t){return(0,vf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,vf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Ds.ArrowLeftIcon=p3;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.LaptopIcon=void 0;const Ta=Ke;function b3(t){return(0,Ta.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ta.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ta.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}js.LaptopIcon=b3;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.SafeIcon=void 0;const mf=Ke;function g3(t){return(0,mf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,mf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}$s.SafeIcon=g3;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var tp=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.TryExtensionContent=void 0;const sr=tp(Ms),Ie=Ke,ka=di,y3=Ds,v3=js,m3=$s,w3=tp(cu);function _3({theme:t}){const[e,r]=(0,ka.useState)(!1),n=(0,ka.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,ka.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ie.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension",t)},(0,Ie.h)("style",null,w3.default),(0,Ie.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ie.h)("h3",{class:(0,sr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ie.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ie.h)("button",{class:(0,sr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ie.h)("div",null,!e&&(0,Ie.h)(y3.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ie.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ie.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ie.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ie.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ie.h)("span",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ie.h)(v3.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ie.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ie.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ie.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ie.h)("span",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ie.h)(m3.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ie.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Ps.TryExtensionContent=_3;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var rp=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(As,"__esModule",{value:!0});As.ConnectDialog=void 0;const Oa=rp(Ms),or=Ke,Na=di,S3=Mt,E3=Ps,C3=rp(uu),x3=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Na.useState)(!e),[s,o]=(0,Na.useState)(!e);(0,Na.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,or.h)("div",{class:(0,Oa.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,or.h)("style",null,C3.default),(0,or.h)("div",{class:(0,Oa.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,or.h)("div",{class:"-cbwsdk-connect-dialog"},(0,or.h)("div",{class:(0,Oa.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,or.h)(S3.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,or.h)(E3.TryExtensionContent,{theme:a}))))};As.ConnectDialog=x3;Object.defineProperty(xs,"__esModule",{value:!0});xs.LinkFlow=void 0;const La=Ke,wf=Rs,I3=As;class R3{constructor(e){this.extensionUI$=new wf.BehaviorSubject({}),this.subscriptions=new wf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,La.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,La.render)((0,La.h)(I3.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}xs.LinkFlow=R3;var np={},lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=z&&z.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ms),n=Ke,i=di,s=e(lu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const g=this.nextItemKey++;return this.items.set(g,h),this.render(),()=>{this.items.delete(g),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,g])=>(0,n.h)(t.SnackbarInstance,Object.assign({},g,{key:h}))))),this.root)}}t.Snackbar=c;const u=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=u;const l=({autoExpand:f,message:h,menuItems:g,appSrc:S})=>{const[T,x]=(0,i.useState)(!0),[b,v]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const R=[window.setTimeout(()=>{x(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{R.forEach(window.clearTimeout)}});const C=()=>{v(!b)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",T&&"-cbwsdk-snackbar-instance-hidden",b&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:C},(0,n.h)("img",{src:a(S),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!b&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),g&&g.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},g.map((R,I)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:R.onClick,key:I},(0,n.h)("svg",{width:R.svgWidth,height:R.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":R.defaultFillRule,"clip-rule":R.defaultClipRule,d:R.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},R.info)))))};t.SnackbarInstance=l})(np);var Fs={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var A3=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.injectCssReset=void 0;const M3=A3(fu);function T3(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(M3.default)),document.documentElement.appendChild(t)}Fs.injectCssReset=T3;Object.defineProperty(Cs,"__esModule",{value:!0});Cs.WalletSDKUI=void 0;const k3=xs,O3=np,N3=Fs;class L3{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new O3.Snackbar({darkMode:e.darkMode}),this.linkFlow=new k3.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,N3.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Cs.WalletSDKUI=L3;var Bs={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});var Wr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Wr||(Wr={}));function ip(t,e,r){if(!r||typeof r.value!==Wr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Wr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Wr.boolTrue,writable:Wr.boolTrue}),n}}}Ws.bind=ip;Ws.default=ip;function sp(t){return function(r){return r.lift(new P3(t))}}var P3=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new D3(e,this.durationSelector))},t}(),D3=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Ce(n,new Se(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ee);function j3(t,e){return e===void 0&&(e=ze),sp(function(){return zd(t,e)})}function $3(t){return function(r){return r.lift(new F3(t))}}var F3=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new B3(e,this.closingNotifier))},t}(),B3=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Ce(n,new Se(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Ee);function W3(t,e){return e===void 0&&(e=null),function(n){return n.lift(new H3(t,e))}}var H3=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=V3:this.subscriberClass=U3}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),V3=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Q),U3=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Q);function z3(t){var e=arguments.length,r=ze;Ye(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new q3(t,n,i,r))}}var q3=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new J3(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),G3=function(){function t(){this.buffer=[]}return t}(),J3=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(_f,n,u))}else{var l={subscriber:a,context:c},f={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(op,n,l)),a.add(o.schedule(Q3,i,f))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(_f,i,s))}},e.prototype.openContext=function(){var r=new G3;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Q);function _f(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Q3(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(op,r,{subscriber:n,context:s})),o.schedule(t,e))}function op(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Z3(t,e){return function(n){return n.lift(new Y3(t,e))}}var Y3=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new K3(e,this.openings,this.closingSelector))},t}(),K3=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Bt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new _e,o={buffer:i,subscription:s};n.push(o);var a=Bt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Ar);function X3(t){return function(e){return e.lift(new e4(t))}}var e4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.closingSelector))},t}(),t4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new _e,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Ce(i,new Se(this))),this.subscribing=!1},e}(Ee);function r4(t){return function(r){var n=new n4(t),i=r.lift(n);return n.caught=i}}var n4=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new i4(e,this.selector,this.caught))},t}(),i4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Se(this);this.add(i);var s=Ce(n,i);s!==i&&this.add(s)}},e}(Ee);function s4(t){return function(e){return e.lift(new Xc(t))}}function o4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ue(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Wt([n].concat(t)),new Xc(r))}}function a4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Hn.apply(void 0,[r].concat(t)))}}function ap(t,e){return wr(t,e,1)}function c4(t,e){return ap(function(){return t},e)}function u4(t){return function(e){return e.lift(new l4(t,e))}}var l4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new f4(e,this.predicate,this.source))},t}(),f4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Q);function h4(t){return function(e){return e.lift(new d4(t))}}var d4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new p4(e,this.durationSelector))},t}(),p4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ce(n,new Se(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Ee);function b4(t,e){return e===void 0&&(e=ze),function(r){return r.lift(new g4(t,e))}}var g4=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new y4(e,this.dueTime,this.scheduler))},t}(),y4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(v4,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Q);function v4(t){t.debouncedNext()}function pi(t){return t===void 0&&(t=null),function(e){return e.lift(new m4(t))}}var m4=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new w4(e,this.defaultValue))},t}(),w4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Q);function cp(t){return t instanceof Date&&!isNaN(+t)}function _4(t,e){e===void 0&&(e=ze);var r=cp(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new S4(n,e))}}var S4=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new E4(e,this.delay,this.scheduler))},t}(),E4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new C4(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification($t.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification($t.createComplete()),this.unsubscribe()},e}(Q),C4=function(){function t(e,r){this.time=e,this.notification=r}return t}();function x4(t,e){return e?function(r){return new R4(r,e).lift(new Sf(t))}:function(r){return r.lift(new Sf(t))}}var Sf=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new I4(e,this.delayDurationSelector))},t}(),I4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Bt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Ar),R4=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new A4(r,this.source))},e}(ie),A4=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Q);function M4(){return function(e){return e.lift(new T4)}}var T4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new k4(e))},t}(),k4=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Q);function O4(t,e){return function(r){return r.lift(new N4(t,e))}}var N4=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new L4(e,this.keySelector,this.flushes))},t}(),L4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Ce(i,new Se(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Ee);function up(t,e){return function(r){return r.lift(new P4(t,e))}}var P4=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new D4(e,this.compare,this.keySelector))},t}(),D4=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Q);function j4(t,e){return up(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Hs(t){return t===void 0&&(t=B4),function(e){return e.lift(new $4(t))}}var $4=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new F4(e,this.errorFactory))},t}(),F4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Q);function B4(){return new hi}function hu(t){return function(e){return t===0?mn():e.lift(new W4(t))}}var W4=function(){function t(e){if(this.total=e,this.total<0)throw new sn}return t.prototype.call=function(e,r){return r.subscribe(new H4(e,this.total))},t}(),H4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Q);function V4(t,e){if(t<0)throw new sn;var r=arguments.length>=2;return function(n){return n.pipe(tr(function(i,s){return s===t}),hu(1),r?pi(e):Hs(function(){return new sn}))}}function U4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Hn(r,Is.apply(void 0,t))}}function z4(t,e){return function(r){return r.lift(new q4(t,e,r))}}var q4=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new G4(e,this.predicate,this.thisArg,this.source))},t}(),G4=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function J4(){return function(t){return t.lift(new Q4)}}var Q4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Z4(e))},t}(),Z4=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Ce(r,new Se(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ee);function lp(t,e){return e?function(r){return r.pipe(lp(function(n,i){return Wt(t(n,i)).pipe(ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Y4(t))}}var Y4=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new K4(e,this.project))},t}(),K4=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=Ce(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ee);function X4(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new e5(t,e,r))}}var e5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new t5(e,this.project,this.concurrent,this.scheduler))},t}(),t5=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Ce(r,new Se(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Ee);function r5(t){return function(e){return e.lift(new n5(t))}}var n5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new i5(e,this.callback))},t}(),i5=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new _e(n)),i}return e}(Q);function s5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new fp(t,r,!1,e))}}var fp=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new o5(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),o5=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Q);function a5(t,e){return function(r){return r.lift(new fp(t,r,!0,e))}}function c5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?tr(function(i,s){return t(i,s,n)}):Xt,hu(1),r?pi(e):Hs(function(){return new hi}))}}function u5(){return function(e){return e.lift(new l5)}}var l5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new f5(e))},t}(),f5=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Q);function h5(){return function(t){return t.lift(new d5)}}var d5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new p5(e))},t}(),p5=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function zi(t){return function(r){return t===0?mn():r.lift(new b5(t))}}var b5=function(){function t(e){if(this.total=e,this.total<0)throw new sn}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.total))},t}(),g5=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Q);function y5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?tr(function(i,s){return t(i,s,n)}):Xt,zi(1),r?pi(e):Hs(function(){return new hi}))}}function v5(t){return function(e){return e.lift(new m5(t))}}var m5=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new w5(e,this.value))},t}(),w5=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Q);function _5(){return function(e){return e.lift(new S5)}}var S5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new E5(e))},t}(),E5=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next($t.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next($t.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next($t.createComplete()),r.complete()},e}(Q);function qi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new C5(t,e,r))}}var C5=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new x5(e,this.accumulator,this.seed,this.hasSeed))},t}(),x5=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Q);function Vs(t,e){return arguments.length>=2?function(n){return Ya(qi(t,e),zi(1),pi(e))(n)}:function(n){return Ya(qi(function(i,s,o){return t(i,s,o+1)}),zi(1))(n)}}function I5(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Vs(e)}function R5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Wd.apply(void 0,[r].concat(t)))}}function A5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?wr(function(){return t},e,r):(typeof e=="number"&&(r=e),wr(function(){return t},r))}function M5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new T5(t,e,r))}}var T5=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new k5(e,this.accumulator,this.seed,this.concurrent))},t}(),k5=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=Ce(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Ee);function O5(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Vs(e)}function _r(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new N5(i,e));var s=Object.create(n,S2);return s.source=n,s.subjectFactory=i,s}}var N5=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function L5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ue(t[0])&&(t=t[0]),function(r){return r.lift(new P5(t))}}var P5=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new D5(e,this.nextSources))},t}(),D5=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Se(this),i=this.destination;i.add(n);var s=Ce(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Ee);function j5(){return function(t){return t.lift(new $5)}}var $5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new F5(e))},t}(),F5=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Q);function B5(t,e){return function(r){return[tr(t,e)(r),tr(Vd(t,e))(r)]}}function W5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ct(H5(t,r))(n)}}function H5(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function V5(t){return t?_r(function(){return new Le},t):_r(new Le)}function U5(t){return function(e){return _r(new Sd(t))(e)}}function z5(){return function(t){return _r(new wn)(t)}}function q5(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Kc(t,e,n);return function(o){return _r(function(){return s},i)(o)}}function G5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ue(t[0])&&(t=t[0]),n.lift.call(Ud.apply(void 0,[n].concat(t)))}}function J5(t){return t===void 0&&(t=-1),function(e){return t===0?mn():t<0?e.lift(new Ef(-1,e)):e.lift(new Ef(t-1,e))}}var Ef=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Q5(e,this.count,this.source))},t}(),Q5=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function Z5(t){return function(e){return e.lift(new Y5(t))}}var Y5=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new K5(e,this.notifier,r))},t}(),K5=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Le;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Ce(r,new Se(this))},e}(Ee);function X5(t){return t===void 0&&(t=-1),function(e){return e.lift(new eC(t,e))}}var eC=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new tC(e,this.count,this.source))},t}(),tC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function rC(t){return function(e){return e.lift(new nC(t,e))}}var nC=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new iC(e,this.notifier,this.source))},t}(),iC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Le;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Ce(i,new Se(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Ee);function sC(t){return function(e){return e.lift(new oC(t))}}var oC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new aC(e),i=r.subscribe(n);return i.add(Ce(this.notifier,new Se(n))),i},t}(),aC=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ee);function cC(t,e){return e===void 0&&(e=ze),function(r){return r.lift(new uC(t,e))}}var uC=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new lC(e,this.period,this.scheduler))},t}(),lC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(fC,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Q);function fC(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function hC(t,e){return function(r){return r.lift(new dC(t,e))}}var dC=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new pC(e,this.compareTo,this.comparator))},t}(),pC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new bC(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Q),bC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Q);function gC(){return new Le}function yC(){return function(t){return Qc()(_r(gC)(t))}}function vC(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(mC(n))}}function mC(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,f=!1;return function(g){c++;var S;!a||l?(l=!1,a=new Kc(r,i,o),S=a.subscribe(this),u=g.subscribe({next:function(T){a.next(T)},error:function(T){l=!0,a.error(T)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):S=a.subscribe(this),this.add(function(){c--,S.unsubscribe(),S=void 0,u&&!f&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function wC(t){return function(e){return e.lift(new _C(t,e))}}var _C=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new SC(e,this.predicate,this.source))},t}(),SC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new hi)},e}(Q);function EC(t){return function(e){return e.lift(new CC(t))}}var CC=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new xC(e,this.total))},t}(),xC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Q);function IC(t){return function(e){return e.lift(new RC(t))}}var RC=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new sn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Q(e)):r.subscribe(new AC(e,this._skipCount))},t}(),AC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Q);function MC(t){return function(e){return e.lift(new TC(t))}}var TC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new kC(e,this.notifier))},t}(),kC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Se(i);i.add(s),i.innerSubscription=s;var o=Ce(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Ee);function OC(t){return function(e){return e.lift(new NC(t))}}var NC=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new LC(e,this.predicate))},t}(),LC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(Q);function PC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ye(r)?(t.pop(),function(n){return Hn(t,n,r)}):function(n){return Hn(t,n)}}var DC=function(t){D(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Li);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!on(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Li),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Li),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ie);function jC(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $C(t,e))}}var $C=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new DC(r,this.delay,this.scheduler).subscribe(e)},t}();function Vn(t,e){return typeof e=="function"?function(r){return r.pipe(Vn(function(n,i){return Wt(t(n,i)).pipe(ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new FC(t))}}var FC=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new BC(e,this.project))},t}(),BC=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Se(this),s=this.destination;s.add(i),this.innerSubscription=Ce(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Ee);function WC(){return Vn(Xt)}function HC(t,e){return e?Vn(function(){return t},e):Vn(function(){return t})}function VC(t){return function(e){return e.lift(new UC(t))}}var UC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new zC(e),i=Ce(this.notifier,new Se(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),zC=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ee);function qC(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new GC(t,e))}}var GC=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new JC(e,this.predicate,this.inclusive))},t}(),JC=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Q);function QC(t,e,r){return function(i){return i.lift(new ZC(t,e,r))}}var ZC=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new YC(e,this.nextOrObserver,this.error,this.complete))},t}(),YC=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Ct,o._tapError=Ct,o._tapComplete=Ct,o._tapError=i||Ct,o._tapComplete=s||Ct,rn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Ct,o._tapError=n.error||Ct,o._tapComplete=n.complete||Ct),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Q),hp={leading:!0,trailing:!1};function KC(t,e){return e===void 0&&(e=hp),function(r){return r.lift(new XC(t,!!e.leading,!!e.trailing))}}var XC=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new ex(e,this.durationSelector,this.leading,this.trailing))},t}(),ex=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Ce(n,new Se(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Ee);function tx(t,e,r){return e===void 0&&(e=ze),r===void 0&&(r=hp),function(n){return n.lift(new rx(t,e,r.leading,r.trailing))}}var rx=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new nx(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),nx=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ix,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Q);function ix(t){var e=t.subscriber;e.clearThrottle()}function sx(t){return t===void 0&&(t=ze),function(e){return tu(function(){return e.pipe(qi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ct(function(r){var n=r.current,i=r.last,s=r.value;return new ox(s,n-i)}))})}}var ox=function(){function t(e,r){this.value=e,this.interval=r}return t}();function dp(t,e,r){return r===void 0&&(r=ze),function(n){var i=cp(t),s=i?+t-r.now():Math.abs(t);return n.lift(new ax(s,i,e,r))}}var ax=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new cx(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),cx=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Ce(n,new Se(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Ee);function ux(t,e){return e===void 0&&(e=ze),dp(t,Yc(new kd),e)}function lx(t){return t===void 0&&(t=ze),ct(function(e){return new fx(e,t.now())})}var fx=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function hx(t,e,r){return r===0?[e]:(t.push(e),t)}function dx(){return Vs(hx,[])}function px(t){return function(r){return r.lift(new bx(t))}}var bx=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new gx(e),i=r.subscribe(n);return i.closed||n.add(Ce(this.windowBoundaries,new Se(n))),i},t}(),gx=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Le,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Le;n.next(i)},e}(Ee);function yx(t,e){return e===void 0&&(e=0),function(n){return n.lift(new vx(t,e))}}var vx=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new mx(e,this.windowSize,this.startWindowEvery))},t}(),mx=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Le],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Le;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Q);function wx(t){var e=ze,r=null,n=Number.POSITIVE_INFINITY;return Ye(arguments[3])&&(e=arguments[3]),Ye(arguments[2])?e=arguments[2]:on(arguments[2])&&(n=Number(arguments[2])),Ye(arguments[1])?e=arguments[1]:on(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new _x(t,r,n,e))}}var _x=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Ex(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Sx=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Le),Ex=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(pp,n,u)),a.add(o.schedule(xx,i,l))}else{var f={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(Cx,n,f))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Sx;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Q);function Cx(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function xx(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(pp,e,c),o.add(a.subscription),o.schedule(t,i)}function pp(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Ix(t,e){return function(r){return r.lift(new Rx(t,e))}}var Rx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Ax(e,this.openings,this.closingSelector))},t}(),Ax=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Bt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(g){return this.error(g)}var u=new Le,l=new _e,f={window:u,subscription:l};this.contexts.push(f);var h=Bt(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Ar);function Mx(t){return function(r){return r.lift(new Tx(t))}}var Tx=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new kx(e,this.closingSelector))},t}(),kx=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Le;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Bt(this,s))},e}(Ar);function Ox(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Nx(i,n))}}var Nx=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Lx(e,this.observables,this.project))},t}(),Lx=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Bt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Ar);function Px(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(qd.apply(void 0,[n].concat(t)))}}function Dx(t){return function(e){return e.lift(new Gd(t))}}const jx=Object.freeze(Object.defineProperty({__proto__:null,audit:sp,auditTime:j3,buffer:$3,bufferCount:W3,bufferTime:z3,bufferToggle:Z3,bufferWhen:X3,catchError:r4,combineAll:s4,combineLatest:o4,concat:a4,concatAll:jd,concatMap:ap,concatMapTo:c4,count:u4,debounce:h4,debounceTime:b4,defaultIfEmpty:pi,delay:_4,delayWhen:x4,dematerialize:M4,distinct:O4,distinctUntilChanged:up,distinctUntilKeyChanged:j4,elementAt:V4,endWith:U4,every:z4,exhaust:J4,exhaustMap:lp,expand:X4,filter:tr,finalize:r5,find:s5,findIndex:a5,first:c5,flatMap:gE,groupBy:C2,ignoreElements:u5,isEmpty:h5,last:y5,map:ct,mapTo:v5,materialize:_5,max:I5,merge:R5,mergeAll:eu,mergeMap:wr,mergeMapTo:A5,mergeScan:M5,min:O5,multicast:_r,observeOn:L2,onErrorResumeNext:L5,pairwise:j5,partition:B5,pluck:W5,publish:V5,publishBehavior:U5,publishLast:z5,publishReplay:q5,race:G5,reduce:Vs,refCount:Qc,repeat:J5,repeatWhen:Z5,retry:X5,retryWhen:rC,sample:sC,sampleTime:cC,scan:qi,sequenceEqual:hC,share:yC,shareReplay:vC,single:wC,skip:EC,skipLast:IC,skipUntil:MC,skipWhile:OC,startWith:PC,subscribeOn:jC,switchAll:WC,switchMap:Vn,switchMapTo:HC,take:hu,takeLast:zi,takeUntil:VC,takeWhile:qC,tap:QC,throttle:KC,throttleTime:tx,throwIfEmpty:Hs,timeInterval:sx,timeout:ux,timeoutWith:dp,timestamp:lx,toArray:dx,window:px,windowCount:yx,windowTime:wx,windowToggle:Ix,windowWhen:Mx,withLatestFrom:Ox,zip:Px,zipAll:Dx},Symbol.toStringTag,{value:"Module"})),du=un(jx);var Us={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.ClientMessagePublishEvent=nt.ClientMessageSetSessionConfig=nt.ClientMessageGetSessionConfig=nt.ClientMessageIsLinked=nt.ClientMessageHostSession=void 0;function $x(t){return Object.assign({type:"HostSession"},t)}nt.ClientMessageHostSession=$x;function Fx(t){return Object.assign({type:"IsLinked"},t)}nt.ClientMessageIsLinked=Fx;function Bx(t){return Object.assign({type:"GetSessionConfig"},t)}nt.ClientMessageGetSessionConfig=Bx;function Wx(t){return Object.assign({type:"SetSessionConfig"},t)}nt.ClientMessageSetSessionConfig=Wx;function Hx(t){return Object.assign({type:"PublishEvent"},t)}nt.ClientMessagePublishEvent=Hx;var bp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Rs,r=du;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(bp);var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.isServerMessageFail=void 0;function Vx(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}zs.isServerMessageFail=Vx;Object.defineProperty(Us,"__esModule",{value:!0});Us.WalletSDKConnection=void 0;const lt=Rs,ae=du,An=fn,Dr=Yn,Mn=nt,Tn=ln,Mi=bp,Pa=zs,Cf=1e4,Ux=6e4;class zx{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new lt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Dr.IntNumber)(1),this.connectedSubject=new lt.BehaviorSubject(!1),this.linkedSubject=new lt.BehaviorSubject(!1),this.sessionConfigSubject=new lt.ReplaySubject(1);const o=new Mi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ae.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Tn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:An.Session.hash(e)})}),(0,ae.skip)(1),(0,ae.filter)(a=>a===Mi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ae.delay)(5e3),(0,ae.filter)(a=>!this.destroyed),(0,ae.flatMap)(a=>o.connect()),(0,ae.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ae.skip)(2),(0,ae.switchMap)(a=>(0,lt.iif)(()=>a===Mi.ConnectionState.CONNECTED,this.authenticate().pipe((0,ae.tap)(c=>this.sendIsLinked()),(0,ae.tap)(c=>this.sendGetSessionConfig()),(0,ae.map)(c=>!0)),(0,lt.of)(!1))),(0,ae.distinctUntilChanged)(),(0,ae.catchError)(a=>(0,lt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ae.skip)(1),(0,ae.switchMap)(a=>(0,lt.iif)(()=>a===Mi.ConnectionState.CONNECTED,(0,lt.timer)(0,Cf)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ae.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ae.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Tn.EVENTS.LINKED,{sessionIdHash:An.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ae.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Tn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:An.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Tn.EVENTS.STARTED_CONNECTING,{sessionIdHash:An.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Tn.EVENTS.DISCONNECTED,{sessionIdHash:An.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ae.filter)(e=>e),(0,ae.take)(1),(0,ae.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ae.filter)(e=>e),(0,ae.take)(1),(0,ae.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ae.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ae.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Mn.ClientMessageSetSessionConfig)({id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ae.flatMap)(i=>this.makeRequest(n)),(0,ae.map)(i=>{if((0,Pa.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Mn.ClientMessagePublishEvent)({id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ae.flatMap)(s=>this.makeRequest(i)),(0,ae.map)(s=>{if((0,Pa.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Cf*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=Ux){const n=e.id;try{this.sendData(e)}catch(i){return(0,lt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ae.timeoutWith)(r,(0,lt.throwError)(new Error(`request ${n} timed out`))),(0,ae.filter)(i=>i.id===n),(0,ae.take)(1))}authenticate(){const e=(0,Mn.ClientMessageHostSession)({id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ae.map)(r=>{if((0,Pa.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Mn.ClientMessageIsLinked)({id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Mn.ClientMessageGetSessionConfig)({id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Us.WalletSDKConnection=zx;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.decrypt=an.encrypt=void 0;const Gi=J;async function qx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Gi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),f=new Uint8Array([...r,...u,...l]);return(0,Gi.uint8ArrayToHex)(f)}an.encrypt=qx;function Gx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Gi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Gi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(l,i,u),h=new TextDecoder;r(h.decode(f))}catch(f){n(f)}})()})}an.decrypt=Gx;var qs={},Gs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Gs);Object.defineProperty(qs,"__esModule",{value:!0});qs.Web3RequestCanceledMessage=void 0;const Jx=Gs;function Qx(t){return{type:Jx.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}qs.Web3RequestCanceledMessage=Qx;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.Web3RequestMessage=void 0;const Zx=Gs;function Yx(t){return Object.assign({type:Zx.RelayMessageType.WEB3_REQUEST},t)}Js.Web3RequestMessage=Yx;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.isWeb3ResponseMessage=cn.Web3ResponseMessage=void 0;const gp=Gs;function Kx(t){return Object.assign({type:gp.RelayMessageType.WEB3_RESPONSE},t)}cn.Web3ResponseMessage=Kx;function Xx(t){return t&&t.type===gp.RelayMessageType.WEB3_RESPONSE}cn.isWeb3ResponseMessage=Xx;var eI=z&&z.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tI=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yp=z&&z.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rI=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eI(e,t,r);return tI(e,t),e},nI=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.WalletSDKRelay=void 0;const vp=nI(Ws),ar=Rs,Re=du,Fe=ln,iI=Us,jr=Un,sI=Yn,ve=J,Ut=rI(an),zt=fn,Ti=pt,Pe=Xi,oI=qs,aI=Js,tt=ge,Ge=cn;class dt extends Ti.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new ar.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new ar.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=zt.Session.load(this.storage)||new zt.Session(this.storage).save(),r=new iI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Re.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Re.skip)(1),(0,Re.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Ti.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Fe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Re.mergeMap)(i=>Ut.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Re.mergeMap)(i=>Ut.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Re.mergeMap)(i=>(0,ar.zip)(Ut.decrypt(i.metadata.ChainId,e.secret),Ut.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Re.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Re.mergeMap)(i=>Ut.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),dt.accountRequestCallbackIds.size>0&&(Array.from(dt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ge.Web3ResponseMessage)({id:s,response:(0,tt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),dt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Re.mergeMap)(i=>Ut.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Re.timeout)(1e3),(0,Re.catchError)(e=>(0,ar.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Fe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=zt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Fe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:zt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new ar.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Pe.Web3Method.signEthereumMessage,params:{message:(0,ve.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Pe.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ve.hexStringFromBuffer)(e,!0),signature:(0,ve.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Pe.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ve.bigIntStringFromBN)(e.weiValue),data:(0,ve.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ve.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ve.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ve.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ve.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Pe.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ve.bigIntStringFromBN)(e.weiValue),data:(0,ve.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ve.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ve.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ve.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ve.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Pe.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ve.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Pe.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ve.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Pe.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ve.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,aI.Web3RequestMessage)({id:e,request:r}),s=zt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Fe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?zt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Fe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?zt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,oI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new ar.Observable(s=>{Ut.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Re.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,ar.from)(Ut.decrypt(e.data,this.session.secret)).pipe((0,Re.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ge.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Fe.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,tt.isRequestEthereumAccountsResponse)(n)){dt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),dt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,jr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Pe.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ve.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ve.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:r,response:(0,tt.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=jr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}dt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Pe.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ve.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:n,response:(0,tt.SelectProviderResponse)(sI.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:n,response:(0,tt.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Pe.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ve.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((h,g)=>{this.relayEventManager.callbacks.set(u,x=>{if(c==null||c(),x.errorMessage)return g(new Error(x.errorMessage));h(x)});const S=x=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:u,response:(0,tt.WatchAssetReponse)(!1)}))},T=()=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:u,response:(0,tt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:T,onCancel:S,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:f}}addEthereumChain(e,r,n,i,s,o){const a={method:Pe.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ve.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,g)=>{this.relayEventManager.callbacks.set(u,x=>{if(c==null||c(),x.errorMessage)return g(new Error(x.errorMessage));h(x)});const S=x=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:u,response:(0,tt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},T=x=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:u,response:(0,tt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:x})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:S,onApprove:T,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Pe.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ve.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,tt.isErrorResponse)(f)&&f.errorCode)return c(jr.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const u=f=>{var h;if(f){const g=(h=(0,jr.getErrorCode)(f))!==null&&h!==void 0?h:jr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,Pe.Web3Method.switchEthereumChain,f instanceof Error?f:jr.standardErrors.provider.unsupportedChain(e),g)}else this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:i,response:(0,tt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=f=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:i,response:(0,tt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return zt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ge.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Pe.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Pe.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Pe.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Pe.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}dt.accountRequestCallbackIds=new Set;yp([vp.default],dt.prototype,"resetAndReload",null);yp([vp.default],dt.prototype,"handleIncomingEvent",null);Bs.WalletSDKRelay=dt;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WalletSDKRelayEventManager=void 0;const cI=J;class uI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,cI.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Qs.WalletSDKRelayEventManager=uI;const lI="@coinbase/wallet-sdk",fI="3.7.1",hI="Coinbase Wallet JavaScript SDK",dI=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],pI="dist/index.js",bI="dist/index.d.ts",gI="https://github.com/coinbase/coinbase-wallet-sdk.git",yI="Coinbase, Inc.",vI="Apache-2.0",mI={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},wI={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},_I={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},SI={node:">= 10.0.0"},EI={name:lI,version:fI,description:hI,keywords:dI,main:pI,types:bI,repository:gI,author:yI,license:vI,scripts:mI,dependencies:wI,devDependencies:_I,engines:SI};Object.defineProperty(jn,"__esModule",{value:!0});jn.CoinbaseWalletSDK=void 0;const CI=Zi,xI=Yi,II=Jr,RI=Cs,AI=Bs,MI=Qs,TI=J,kI={}.LINK_API_URL||"https://www.walletlink.org",mp={}.SDK_VERSION||EI.version||"unknown";class Zs{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||kI;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new RI.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new xI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Zs.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new MI.WalletSDKRelayEventManager,this._relay=new AI.WalletSDKRelay({linkAPIUrl:s,version:mp,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new II.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,TI.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,CI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}jn.CoinbaseWalletSDK=Zs;Zs.VERSION=mp;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=jn,r=Jr;var n=jn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Jr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(oc);const OI=_p(oc),HI=Cp({__proto__:null,default:OI},[oc]);export{HI as i};
